(this["webpackJsonpseller-management-system"]=this["webpackJsonpseller-management-system"]||[]).push([[28],{1352:function(e,t,a){"use strict";a.d(t,"c",(function(){return l})),a.d(t,"d",(function(){return i})),a.d(t,"b",(function(){return s})),a.d(t,"a",(function(){return o})),a.d(t,"e",(function(){return c}));var n=a(17),r=a.n(n),l=function(){return r.a.get("/api/parts-um/list")},i=function(e){return r.a.get("/api/parts-um/get?_id=".concat(e))},s=function(e){return r.a.post("/api/parts-um/delete?_id=".concat(e))},o=function(e){return r.a.post("/api/parts-um/add",e)},c=function(e){return r.a.post("/api/parts-um/update",e)}},1357:function(e,t,a){"use strict";a.d(t,"c",(function(){return l})),a.d(t,"d",(function(){return i})),a.d(t,"b",(function(){return s})),a.d(t,"a",(function(){return o})),a.d(t,"e",(function(){return c})),a.d(t,"f",(function(){return u}));var n=a(17),r=a.n(n),l=function(){return r.a.get("/api/parts/list")},i=function(e){return r.a.get("/api/parts/get?_id=".concat(e))},s=function(e){return r.a.post("/api/parts/delete?_id=".concat(e))},o=function(e){return r.a.post("/api/parts/add",e)},c=function(e){return r.a.post("/api/parts/update",e)},u=function(e){return r.a.post("/api/parts/update-list",e)}},1365:function(e,t,a){"use strict";a.d(t,"c",(function(){return l})),a.d(t,"d",(function(){return i})),a.d(t,"b",(function(){return s})),a.d(t,"a",(function(){return o})),a.d(t,"e",(function(){return c}));var n=a(17),r=a.n(n),l=function(){return r.a.get("/api/parts-type/list")},i=function(e){return r.a.get("/api/parts-type/get?_id=".concat(e))},s=function(e){return r.a.post("/api/parts-type/delete?_id=".concat(e))},o=function(e){return r.a.post("/api/parts-type/add",e)},c=function(e){return r.a.post("/api/parts-type/update",e)}},1375:function(e,t,a){"use strict";a.d(t,"c",(function(){return l})),a.d(t,"d",(function(){return i})),a.d(t,"b",(function(){return s})),a.d(t,"a",(function(){return o})),a.d(t,"e",(function(){return c}));var n=a(17),r=a.n(n),l=function(){return r.a.get("/api/supplier-type/list")},i=function(e){return r.a.get("/api/supplier-type/get?uid=".concat(e))},s=function(e){return r.a.post("/api/supplier-type/delete?uid=".concat(e))},o=function(e){return r.a.post("/api/supplier-type/add",e)},c=function(e){return r.a.post("/api/supplier-type/update",e)}},1406:function(e,t,a){"use strict";a.d(t,"c",(function(){return l})),a.d(t,"d",(function(){return i})),a.d(t,"b",(function(){return s})),a.d(t,"a",(function(){return o})),a.d(t,"e",(function(){return c}));var n=a(17),r=a.n(n),l=function(){return r.a.get("/api/suppliers/list")},i=function(e){return r.a.get("/api/suppliers/get?uid=".concat(e))},s=function(e){return r.a.post("/api/suppliers/delete?uid=".concat(e))},o=function(e){return r.a.post("/api/suppliers/add",e)},c=function(e){return r.a.post("/api/suppliers/update",e)}},1440:function(e,t,a){"use strict";a.d(t,"a",(function(){return P}));var n=a(8),r=a(1334),l=a(0),i=a.n(l),s=a(7),o=a(1342),c=a(1302),u=a(33),d=a(50),p=a(582),m=a(1594),h=a(551),g=a(259),b=a(1540),f=a(1437),y=a(1345),v=a.n(y),E=Object(c.a)((function(e){return{root:{flexGrow:1,height:250},input:{display:"flex",padding:0,height:"auto"},valueContainer:{display:"flex",flexWrap:"wrap",flex:1,alignItems:"center",overflow:"hidden"},chip:{margin:e.spacing(.5,.25)},chipFocused:{backgroundColor:Object(u.c)("light"===e.palette.type?e.palette.grey[300]:e.palette.grey[700],.08)},noOptionsMessage:{padding:e.spacing(1,2)},singleValue:{fontSize:16},placeholder:{position:"absolute",left:2,bottom:6,fontSize:16},paper:{position:"absolute",zIndex:1,marginTop:e.spacing(1),left:0,right:0},divider:{height:e.spacing(2)}}}));function x(e){var t=e.inputRef,a=Object(r.a)(e,["inputRef"]);return i.a.createElement("div",Object.assign({ref:t},a))}var C={Control:function(e){var t=e.children,a=e.innerProps,r=e.innerRef,l=e.selectProps,s=l.classes,o=l.TextFieldProps;return i.a.createElement(h.a,Object.assign({fullWidth:!0,InputProps:{inputComponent:x,inputProps:Object(n.a)({className:s.input,ref:r,children:t},a)}},o))},Menu:function(e){return i.a.createElement(g.a,Object.assign({square:!0,className:e.selectProps.classes.paper},e.innerProps),e.children)},MultiValue:function(e){return i.a.createElement(b.a,{tabIndex:-1,label:e.children,className:Object(s.default)(e.selectProps.classes.chip,{[e.selectProps.classes.chipFocused]:e.isFocused}),onDelete:e.removeProps.onClick,deleteIcon:i.a.createElement(v.a,e.removeProps)})},NoOptionsMessage:function(e){return i.a.createElement(p.a,Object.assign({color:"textSecondary",className:e.selectProps.classes.noOptionsMessage},e.innerProps),e.children)},Option:function(e){return i.a.createElement(f.a,Object.assign({ref:e.innerRef,selected:e.isFocused,component:"div",style:{fontWeight:e.isSelected?500:400}},e.innerProps),e.children)},Placeholder:function(e){return i.a.createElement(p.a,Object.assign({color:"textSecondary",className:e.selectProps.classes.placeholder},e.innerProps),e.children)},SingleValue:function(e){return i.a.createElement(p.a,Object.assign({className:e.selectProps.classes.singleValue},e.innerProps),e.children)},ValueContainer:function(e){return i.a.createElement("div",{className:e.selectProps.classes.valueContainer},e.children)}};function P(e){var t=e.handleChange,a=e.selectedValue,r=e.textFieldProps,l=e.isMulti,s=e.options,c=E(),u=Object(d.a)(),p={input:function(e){return Object(n.a)(Object(n.a)({},e),{},{color:u.palette.text.primary,"& input":{font:"inherit"}})}};return i.a.createElement(m.a,null,i.a.createElement(o.a,{classes:c,styles:p,inputId:"react-select-single",options:s,components:C,TextFieldProps:r,value:a,onChange:t,isMulti:l}))}},1509:function(e,t,a){"use strict";var n=a(5),r=a(2),l=a(0),i=(a(4),a(7)),s=a(9),o=a(572),c=a(11),u=l.forwardRef((function(e,t){var a=e.children,s=e.classes,u=e.className,d=e.color,p=void 0===d?"default":d,m=e.component,h=void 0===m?"button":m,g=e.disabled,b=void 0!==g&&g,f=e.disableFocusRipple,y=void 0!==f&&f,v=e.focusVisibleClassName,E=e.size,x=void 0===E?"large":E,C=e.variant,P=void 0===C?"round":C,w=Object(n.a)(e,["children","classes","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"]);return l.createElement(o.a,Object(r.a)({className:Object(i.default)(s.root,u,"round"!==P&&s.extended,"large"!==x&&s["size".concat(Object(c.a)(x))],b&&s.disabled,{primary:s.primary,secondary:s.secondary,inherit:s.colorInherit}[p]),component:h,disabled:b,focusRipple:!y,focusVisibleClassName:Object(i.default)(s.focusVisible,v),ref:t},w),l.createElement("span",{className:s.label},a))}));t.a=Object(s.a)((function(e){return{root:Object(r.a)({},e.typography.button,{boxSizing:"border-box",minHeight:36,transition:e.transitions.create(["background-color","box-shadow","border"],{duration:e.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,boxShadow:e.shadows[6],"&:active":{boxShadow:e.shadows[12]},color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],"&:hover":{backgroundColor:e.palette.grey.A100,"@media (hover: none)":{backgroundColor:e.palette.grey[300]},"&$disabled":{backgroundColor:e.palette.action.disabledBackground},textDecoration:"none"},"&$focusVisible":{boxShadow:e.shadows[6]},"&$disabled":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},primary:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}}},secondary:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}}},extended:{borderRadius:24,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48,"&$sizeSmall":{width:"auto",padding:"0 8px",borderRadius:17,minWidth:34,height:34},"&$sizeMedium":{width:"auto",padding:"0 16px",borderRadius:20,minWidth:40,height:40}},focusVisible:{},disabled:{},colorInherit:{color:"inherit"},sizeSmall:{width:40,height:40},sizeMedium:{width:48,height:48}}}),{name:"MuiFab"})(u)},1601:function(e,t,a){"use strict";a.r(t);var n=a(8),r=a(22),l=a(25),i=a(30),s=a(29),o=a(1334),c=a(0),u=a.n(c),d=a(1303),p=a(1326),m=a(551),h=a(1501),g=a(1512),b=a(1505),f=a(1504),y=a(1509),v=a(1317),E=a(1503),x=a(1407),C=a(1602),P=a(67),w=a(13),S=a(1378),N=a(1440),O=a(1406),T=a(1375),j=a(1352),M=a(1365),_=a(1357),k=a(121),q=a(1351),I=[{label:"Afghanistan"},{label:"Aland Islands"},{label:"Albania"},{label:"Algeria"},{label:"American Samoa"},{label:"Andorra"},{label:"Angola"},{label:"Anguilla"},{label:"Antarctica"},{label:"Antigua and Barbuda"},{label:"Argentina"},{label:"Armenia"},{label:"Aruba"},{label:"Australia"},{label:"Austria"},{label:"Azerbaijan"},{label:"Bahamas"},{label:"Bahrain"},{label:"Bangladesh"},{label:"Barbados"},{label:"Belarus"},{label:"Belgium"},{label:"Belize"},{label:"Benin"},{label:"Bermuda"},{label:"Bhutan"},{label:"Bolivia, Plurinational State of"},{label:"Bonaire, Sint Eustatius and Saba"},{label:"Bosnia and Herzegovina"},{label:"Botswana"},{label:"Bouvet Island"},{label:"Brazil"},{label:"British Indian Ocean Territory"},{label:"Brunei Darussalam"}].map((function(e){return{value:e.label,label:e.label}}));function V(e){var t=e.inputRef,a=e.onChange,n=Object(o.a)(e,["inputRef","onChange"]);return u.a.createElement(q.a,Object.assign({},n,{getInputRef:t,onValueChange:function(e){a({target:{value:e.value}})},thousandSeparator:!0,prefix:"$"}))}var A=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(e=t.call.apply(t,[this].concat(l))).state={_id:"",ID:"",start_date:new Date,type:"",country:"",name:"",contact:"",skype:"",wechat:"",whatsapp:"",mobile:"",office:"",email:"",main_products_services:"",address:"",notes:"",selectedSupplierType:null,selectedCountry:null,loading:!1,supplierTypeList:[],partsUMList:[],partsTypeList:[],supplierList:[],parts:[]},e.handleSubmit=function(t){Object(O.e)(e.state).then((function(t){if(0!=e.state.parts.legnth){var a=e.state.parts,n=[];a.map((function(t){t._id||n.push({ID:t.IDCode,name:t.name,type:t.selectedType.value,cost_usd:t.UPrice,UM:t.selectedUM.value,qty:t.qty,supplier_id:e.state._id})}));var r=[];a.map((function(t){t._id&&r.push({_id:t._id,ID:t.IDCode,name:t.name,type:t.selectedType.value,cost_usd:t.UPrice,UM:t.selectedUM.value,qty:t.qty,supplier_id:e.state._id})})),Object(_.f)(r).then((function(t){Object(_.a)(n).then((function(t){e.props.history.push("/supplier/list")}))}))}}))},e.handleChange=function(t,a){t.persist(),e.setState({[t.target.name]:t.target.value})},e.addNewPart=function(){var t={IDCode:"P"+Object(k.c)(),name:"",selectedType:"",selectedUM:"",UPrice:0,qty:0},a=e.state.parts;a.push(t),e.setState({parts:a})},e.handleSelectPartsType=function(t,a){var n=e.state.parts;n[a].selectedType=t,e.setState({parts:n})},e.handleSelectPartsUM=function(t,a){var n=e.state.parts;n[a].selectedUM=t,e.setState({parts:n})},e.handleChangePartsQty=function(t,a){var n=e.state.parts;n[a].qty=t.target.value,e.setState({parts:n})},e.handleChangeUPrice=function(t,a){var n=e.state.parts;n[a].UPrice=t.target.value,e.setState({parts:n})},e.handleChangePartName=function(t,a){var n=e.state.parts;n[a].name=t.target.value,e.setState({parts:n})},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;Object(T.c)().then((function(t){var a=t.data.map((function(e){return{value:e._id,label:e.name}}));e.setState({supplierTypeList:a})})),Object(M.c)().then((function(t){e.setState({partsTypeList:t.data.map((function(e){return{value:e._id,label:e.name}}))})})),Object(j.c)().then((function(t){e.setState({partsUMList:t.data.map((function(e){return{value:e._id,label:e.short_name}}))})})),Object(O.d)(this.props.match.params.id).then((function(t){var a=t.data.supplier,r=t.data.parts;a.selectedSupplierType={value:a.type._id,label:a.type.name},a.type=a.type._id,a.selectedCountry={value:a.country,label:a.country};var l=r.map((function(e){return{_id:e._id,name:e.name,selectedUM:{value:e.UM._id,label:e.UM.short_name},selectedType:{value:e.type._id,label:e.type.name},IDCode:e.ID,qty:e.qty,UPrice:e.cost_usd}}));e.setState(Object(n.a)(Object(n.a)({},a),{},{parts:l}),(function(){}))}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.ID,n=t.start_date,r=(t.type,t.country,t.name),l=t.contact,i=t.skype,s=t.wechat,o=t.whatsapp,c=t.mobile,O=t.office,T=t.email,j=t.main_products_services,M=t.address,_=t.notes,k=t.loading,q=t.supplierTypeList,A=t.partsTypeList,U=t.partsUMList,B=(t.supplierList,t.selectedSupplierType),F=t.selectedCountry,D=t.parts;return u.a.createElement("div",{className:"m-sm-30"},u.a.createElement("div",{className:"mb-sm-30"},u.a.createElement(w.a,{routeSegments:[{name:"Add New Supplier"}]})),u.a.createElement(w.j,null,u.a.createElement(P.ValidatorForm,{ref:"form",onSubmit:this.handleSubmit,onError:function(e){return null}},u.a.createElement("div",{className:"viewer_actions px-16 flex flex-end"},u.a.createElement("div",{className:"mb-24"},u.a.createElement(d.a,{type:"submit",className:"py-8",variant:"contained",color:"primary",disabled:k},"Save"))),u.a.createElement(p.a,{container:!0,spacing:6},u.a.createElement(p.a,{item:!0,lg:6,md:6,sm:12,xs:12},u.a.createElement(P.TextValidator,{className:"mb-16 w-100",label:"ID",readOnly:!0,type:"text",name:"ID",value:a,validators:["required"],errorMessages:["this field is required"]})),u.a.createElement(p.a,{item:!0,lg:6,md:6,sm:12,xs:12},u.a.createElement(x.a,{utils:S.a},u.a.createElement(C.a,{className:"mb-16 w-100",margin:"none",id:"mui-pickers-date",label:"Start Date",inputVariant:"standard",type:"text",autoOk:!0,value:n,onChange:function(t){return e.setState({start_date:t})},KeyboardButtonProps:{"aria-label":"change date"}}))),u.a.createElement(p.a,{item:!0,lg:6,md:6,sm:12,xs:12},u.a.createElement(N.a,{textFieldProps:{label:"Supplier Type",InputLabelProps:{htmlFor:"react-select-single",shrink:!0},placeholder:""},handleChange:function(t){return e.setState({type:t.value,selectedSupplierType:t})},options:q,selectedValue:B})),u.a.createElement(p.a,{item:!0,lg:6,md:6,sm:12,xs:12},u.a.createElement(N.a,{textFieldProps:{label:"Country",InputLabelProps:{htmlFor:"react-select-single",shrink:!0},placeholder:""},handleChange:function(t){return e.setState({country:t.value,selectedCountry:t})},options:I,selectedValue:F})),u.a.createElement(p.a,{item:!0,lg:6,md:6,sm:12,xs:12},u.a.createElement(P.TextValidator,{className:"mb-16 w-100",label:"Name",onChange:this.handleChange,type:"text",name:"name",value:r,validators:["required"],errorMessages:["this field is required"]}),u.a.createElement(P.TextValidator,{className:"mb-16 w-100",label:"Contact",onChange:this.handleChange,type:"text",name:"contact",value:l,validators:["required"],errorMessages:["this field is required"]}),u.a.createElement(P.TextValidator,{className:"mb-16 w-100",label:"Mobile",onChange:this.handleChange,type:"text",name:"mobile",value:c,validators:["required"],errorMessages:["this field is required"]}),u.a.createElement(P.TextValidator,{className:"mb-16 w-100",label:"Office",onChange:this.handleChange,type:"text",name:"office",value:O,validators:["required"],errorMessages:["this field is required"]}),u.a.createElement(P.TextValidator,{className:"mb-16 w-100",label:"Email",onChange:this.handleChange,type:"email",name:"email",value:T,validators:["required"],errorMessages:["this field is required"]})),u.a.createElement(p.a,{item:!0,lg:6,md:6,sm:12,xs:12},u.a.createElement("h5",{className:"text-primary"},"CHAT"),u.a.createElement(P.TextValidator,{className:"mb-16 w-100",label:"Skype",onChange:this.handleChange,type:"text",name:"skype",value:i,validators:["required"],errorMessages:["this field is required"]}),u.a.createElement(P.TextValidator,{className:"mb-16 w-100",label:"WeChat",onChange:this.handleChange,type:"text",name:"wechat",value:s,validators:["required"],errorMessages:["this field is required"]}),u.a.createElement(P.TextValidator,{className:"mb-16 w-100",label:"WhatsApp",onChange:this.handleChange,type:"text",name:"whatsapp",value:o,validators:["required"],errorMessages:["this field is required"]})),u.a.createElement(p.a,{item:!0,lg:12,md:12,sm:12,xs:12},u.a.createElement(P.TextValidator,{className:"mb-16 w-100",label:"Main Products/Services",onChange:this.handleChange,type:"text",name:"main_products_services",value:j,validators:["required"],errorMessages:["this field is required"]})),u.a.createElement(p.a,{item:!0,lg:12,md:12,sm:12,xs:12},u.a.createElement(m.a,{label:"Address",fullWidth:!0,multiline:!0,rows:5,name:"address",value:M,onChange:this.handleChange})),u.a.createElement(p.a,{item:!0,lg:12,md:12,sm:12,xs:12},u.a.createElement(m.a,{label:"Notes",fullWidth:!0,multiline:!0,rows:5,name:"notes",value:_,onChange:this.handleChange})),u.a.createElement(p.a,{item:!0,lg:12,md:12,sm:12,xs:12,style:{minHeight:"500px"}},u.a.createElement("div",{className:"w-100 overflow-auto",style:{paddingBottom:"300px"}},u.a.createElement(h.a,{style:{border:"1px solid rgba(224, 224, 224, 1)",whiteSpace:"pre"}},u.a.createElement("colgroup",null,u.a.createElement("col",{style:{width:"100px"}}),u.a.createElement("col",{style:{width:"300px"}}),u.a.createElement("col",{style:{width:"150px"}}),u.a.createElement("col",{style:{width:"150px"}}),u.a.createElement("col",{style:{width:"100px"}}),u.a.createElement("col",{style:{width:"100px"}}),u.a.createElement("col",{style:{width:"100px"}})),u.a.createElement(g.a,null,u.a.createElement(b.a,null,u.a.createElement(f.a,{colSpan:1,align:"center",className:"bg-light-green"},u.a.createElement(y.a,{color:"primary","aria-label":"Add",onClick:this.addNewPart},u.a.createElement(v.a,null,"add"))),u.a.createElement(f.a,{colSpan:6,align:"center",className:"bg-light-green"},"PARTS")),u.a.createElement(b.a,null,u.a.createElement(f.a,{align:"center"},"ID Code"),u.a.createElement(f.a,{align:"center"},"Name"),u.a.createElement(f.a,{align:"center"},"Type"),u.a.createElement(f.a,{align:"center"},"UM"),u.a.createElement(f.a,{align:"center"},"UPrice"),u.a.createElement(f.a,{align:"center"},"Qty"),u.a.createElement(f.a,{align:"center"},"Total"))),u.a.createElement(E.a,null,D&&D.map((function(t,a){return u.a.createElement(b.a,{key:a},u.a.createElement(f.a,{className:"px-10",align:"center"},u.a.createElement(P.TextValidator,{type:"text",value:t.IDCode,readOnly:!0,inputProps:{min:0,style:{textAlign:"center"}}})),u.a.createElement(f.a,{align:"center",className:"pr-10"},u.a.createElement(m.a,{name:"name",value:t.name,onChange:function(t){return e.handleChangePartName(t,a)},fullWidth:!0})),u.a.createElement(f.a,{className:"px-10",align:"center"},u.a.createElement(N.a,{textFieldProps:{InputLabelProps:{htmlFor:"react-select-single",shrink:!0},placeholder:""},handleChange:function(t){return e.handleSelectPartsType(t,a)},selectedValue:t.selectedType,options:A})),u.a.createElement(f.a,{className:"px-10",align:"center"},u.a.createElement(N.a,{textFieldProps:{InputLabelProps:{htmlFor:"react-select-single",shrink:!0},placeholder:""},handleChange:function(t){return e.handleSelectPartsUM(t,a)},selectedValue:t.selectedUM,options:U})),u.a.createElement(f.a,{className:"px-10",align:"center"},u.a.createElement(m.a,{value:t.UPrice,onChange:function(t){return e.handleChangeUPrice(t,a)},name:"UPrice",InputProps:{inputComponent:V},inputProps:{min:0,style:{textAlign:"center"}}})),u.a.createElement(f.a,{className:"px-10",align:"center"},u.a.createElement(P.TextValidator,{onChange:function(t){return e.handleChangePartsQty(t,a)},type:"text",name:"qty",value:t.qty,inputProps:{min:0,style:{textAlign:"center"}}})),u.a.createElement(f.a,{className:"px-10",align:"center"},"$ ",parseFloat(t.UPrice*t.qty).toFixed(2)))}))))))))))}}]),a}(c.Component);t.default=A}}]);
//# sourceMappingURL=28.af89462c.chunk.js.map