(this["webpackJsonpseller-management-system"]=this["webpackJsonpseller-management-system"]||[]).push([[21],{1336:function(e,t,a){"use strict";a.d(t,"a",(function(){return k}));var n=a(1334),i=a(0),r=a.n(i),o=a(7),l=a(1337),s=a.n(l),c=a(1339),u=a.n(c),d=a(1340),m=a.n(d),p=a(1346),f=a.n(p),h=a(1338),v=a.n(h),g=a(1302),b=a(581),C=a(254),E=a(1490),y=a(1271),O={success:s.a,warning:v.a,error:u.a,info:m.a},j=Object(g.a)((function(e){return{success:{backgroundColor:C.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.main},warning:{backgroundColor:E.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}}));function k(e){var t=j(),a=e.className,i=e.message,l=e.onClose,s=e.variant,c=Object(n.a)(e,["className","message","onClose","variant"]),u=O[s];return r.a.createElement(y.a,Object.assign({className:Object(o.default)(t[s],a),"aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar",className:t.message},r.a.createElement(u,{className:Object(o.default)(t.icon,t.iconVariant)}),i),action:[r.a.createElement(b.a,{key:"close","aria-label":"Close",color:"inherit",onClick:l},r.a.createElement(f.a,{className:t.icon}))]},c))}},1337:function(e,t,a){"use strict";var n=a(1332);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(0)),r=(0,n(a(1333)).default)(i.default.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckCircle");t.default=r},1338:function(e,t,a){"use strict";var n=a(1332);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(0)),r=(0,n(a(1333)).default)(i.default.createElement("path",{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"}),"Warning");t.default=r},1339:function(e,t,a){"use strict";var n=a(1332);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(0)),r=(0,n(a(1333)).default)(i.default.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"}),"Error");t.default=r},1340:function(e,t,a){"use strict";var n=a(1332);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(0)),r=(0,n(a(1333)).default)(i.default.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"}),"Info");t.default=r},1362:function(e,t,a){"use strict";a.d(t,"c",(function(){return r})),a.d(t,"f",(function(){return o})),a.d(t,"b",(function(){return l})),a.d(t,"a",(function(){return s})),a.d(t,"g",(function(){return c})),a.d(t,"d",(function(){return u})),a.d(t,"e",(function(){return d}));var n=a(15),i=a.n(n),r=function(){return i.a.get("/api/product-variation/list")},o=function(e){return i.a.get("/api/product-variation/get?_id=".concat(e))},l=function(e){return i.a.post("/api/product-variation/delete?_id=".concat(e))},s=function(e){return i.a.post("/api/product-variation/add",e)},c=function(e){return i.a.post("/api/product-variation/update",e)},u=function(){return i.a.get("/api/product-variation/type_list")},d=function(e){return i.a.get("/api/product-variation/value_list?type=".concat(e))}},1613:function(e,t,a){"use strict";a.r(t);var n=a(22),i=a(25),r=a(30),o=a(29),l=a(0),s=a.n(l),c=a(581),u=a(1317),d=a(1303),m=a(1327),p=a(1343),f=a.n(p),h=a(1323),v=a(19),g=a(8),b=a(1324),C=a(1326),E=a(67),y=a(1362),O=a(121),j=function(e){Object(r.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={type:"",value:""},e.handleChange=function(t,a){t.persist(),e.setState({[t.target.name]:t.target.value})},e.handleFormSubmit=function(){if(e.state._id)Object(y.g)(Object(g.a)({},e.state)).then((function(){e.props.handleClose()}));else{var t={type:e.state.type,value:e.state.value,uid:"PV"+Object(O.c)()};Object(y.a)(t).then((function(t){e.props.handleClose()}))}},e}return Object(i.a)(a,[{key:"componentWillMount",value:function(){var e=this;this.props.mid?Object(y.f)(this.props.mid).then((function(t){return e.setState(Object(g.a)({},t.data))})):this.setState({type:"",value:""})}},{key:"render",value:function(){var e=this,t=this.state,a=t.type,n=t.value,i=this.props,r=i.open,o=i.handleClose;return s.a.createElement(b.a,{onClose:o,open:r},s.a.createElement("div",{className:"p-24"},s.a.createElement("h4",{className:"mb-20"},"Update Variation"),s.a.createElement(E.ValidatorForm,{ref:"form",onSubmit:this.handleFormSubmit},s.a.createElement(C.a,{className:"mb-16",container:!0,spacing:4},s.a.createElement(C.a,{item:!0,sm:12,xs:12},s.a.createElement(E.TextValidator,{className:"w-100 mb-16",label:"Type",onChange:this.handleChange,type:"text",name:"type",value:a,validators:["required"],errorMessages:["this field is required"]})),s.a.createElement(C.a,{item:!0,sm:12,xs:12},s.a.createElement(E.TextValidator,{className:"w-100 mb-16",label:"Value",onChange:this.handleChange,type:"text",name:"value",value:n,validators:["required"],errorMessages:["this field is required"]}))),s.a.createElement("div",{className:"flex flex-space-between flex-middle"},s.a.createElement(d.a,{variant:"contained",color:"primary",type:"submit"},"Save"),s.a.createElement(d.a,{onClick:function(){return e.props.handleClose()}},"Cancel")))))}}]),a}(l.Component),k=a(1336),D={filterType:"checkbox",customToolbarSelect:function(){},selectableRows:"none"},S=function(e){Object(r.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={variationList:[],shouldOpenEditorDialog:!1,shouldOpenConfirmationDialog:!1,warningOpen:!1,warningMessage:""},e.setPage=function(t){e.setState({page:t})},e.setRowsPerPage=function(t){e.setState({rowsPerPage:t.target.value})},e.handleChangePage=function(t,a){e.setPage(a)},e.handleDialogClose=function(){e.setState({shouldOpenEditorDialog:!1,shouldOpenConfirmationDialog:!1}),e.updatePageData()},e.handleDeleteVariation=function(t){e.setState({mid:t,shouldOpenConfirmationDialog:!0})},e.handleConfirmationResponse=function(){Object(y.b)(e.state.mid).then((function(t){e.handleDialogClose()})).catch((function(t){e.setState({warningMessage:t.response.data.message}),e.setState({warningOpen:!0}),e.handleDialogClose()}))},e.updatePageData=function(){Object(y.c)().then((function(t){var a=[];t.data.map((function(e){a.push({id:e.unique_id,type:e.type,mid:e._id,value:e.value})})),e.setState({variationList:a})}))},e.handleChangeCheckbox=function(t){return function(a){e.setState({[t]:a.target.checked})}},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.updatePageData()}},{key:"render",value:function(){var e=this,t=this.state,a=t.variationList,n=t.shouldOpenConfirmationDialog,i=t.shouldOpenEditorDialog,r=t.warningOpen,o=t.warningMessage,l=[{name:"id",label:"ID",options:{filter:!0,sort:!0}},{name:"type",label:"Type",options:{filter:!0,sort:!0}},{name:"value",label:"Value",options:{filter:!0,sort:!0}},{name:"action",label:"Action",options:{filter:!1,sort:!1,empty:!0,customBodyRenderLite:function(t){return s.a.createElement(s.a.Fragment,null,s.a.createElement(c.a,{onClick:function(){return e.setState({mid:e.state.variationList[t].mid,shouldOpenEditorDialog:!0})}},s.a.createElement(u.a,{color:"primary"},"edit")),s.a.createElement(c.a,{onClick:function(){return e.handleDeleteVariation(e.state.variationList[t].mid)}},s.a.createElement(u.a,{color:"error"},"delete")))}}}];return s.a.createElement("div",{className:"m-sm-30"},s.a.createElement("div",{className:"mb-sm-30"},s.a.createElement(v.a,{routeSegments:[{name:"Product Variation"}]})),s.a.createElement("div",{className:"flex flex-middle mb-16"},s.a.createElement(d.a,{variant:"contained",color:"primary",onClick:function(){return e.setState({shouldOpenEditorDialog:!0,mid:null})}},"Add New Variation")),s.a.createElement(m.a,{className:"w-100 overflow-auto",elevation:6},s.a.createElement(f.a,{className:"pl-24 pr-24",title:"Variation List",data:a,columns:l,options:D}),i&&s.a.createElement(j,{handleClose:this.handleDialogClose,open:i,mid:this.state.mid}),n&&s.a.createElement(v.b,{open:n,onConfirmDialogClose:this.handleDialogClose,onYesClick:this.handleConfirmationResponse,text:"Are you sure to delete?"})),s.a.createElement(h.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:r,autoHideDuration:6e3,onClose:this.closeWarningMessage},s.a.createElement(k.a,{onClose:this.closeWarningMessage,variant:"warning",message:o})))}}]),a}(l.Component);t.default=S}}]);
//# sourceMappingURL=21.030ce100.chunk.js.map