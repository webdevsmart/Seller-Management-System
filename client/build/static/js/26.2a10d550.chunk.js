(this["webpackJsonpseller-management-system"]=this["webpackJsonpseller-management-system"]||[]).push([[26],{1336:function(e,a,t){"use strict";t.d(a,"a",(function(){return S}));var n=t(1334),s=t(0),r=t.n(s),i=t(7),o=t(1337),l=t.n(o),c=t(1339),m=t.n(c),u=t(1340),d=t.n(u),p=t(1346),h=t.n(p),f=t(1338),g=t.n(f),v=t(1302),b=t(581),C=t(254),E=t(1491),O=t(1271),w={success:l.a,warning:g.a,error:m.a,info:d.a},y=Object(v.a)((function(e){return{success:{backgroundColor:C.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.main},warning:{backgroundColor:E.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}}));function S(e){var a=y(),t=e.className,s=e.message,o=e.onClose,l=e.variant,c=Object(n.a)(e,["className","message","onClose","variant"]),m=w[l];return r.a.createElement(O.a,Object.assign({className:Object(i.default)(a[l],t),"aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar",className:a.message},r.a.createElement(m,{className:Object(i.default)(a.icon,a.iconVariant)}),s),action:[r.a.createElement(b.a,{key:"close","aria-label":"Close",color:"inherit",onClick:o},r.a.createElement(h.a,{className:a.icon}))]},c))}},1337:function(e,a,t){"use strict";var n=t(1332);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var s=n(t(0)),r=(0,n(t(1333)).default)(s.default.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckCircle");a.default=r},1338:function(e,a,t){"use strict";var n=t(1332);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var s=n(t(0)),r=(0,n(t(1333)).default)(s.default.createElement("path",{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"}),"Warning");a.default=r},1339:function(e,a,t){"use strict";var n=t(1332);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var s=n(t(0)),r=(0,n(t(1333)).default)(s.default.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"}),"Error");a.default=r},1340:function(e,a,t){"use strict";var n=t(1332);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var s=n(t(0)),r=(0,n(t(1333)).default)(s.default.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"}),"Info");a.default=r},1606:function(e,a,t){"use strict";t.r(a);var n=t(22),s=t(25),r=t(30),i=t(29),o=t(0),l=t.n(o),c=t(581),m=t(1317),u=t(1303),d=t(1327),p=t(1343),h=t.n(p),f=t(1323),g=t(19),v=t(8),b=t(1324),C=t(1326),E=t(67),O=t(15),w=t.n(O),y=function(){return w.a.get("/api/users/list")},S=function(e){return w.a.post("/api/users/delete?uid=".concat(e))},k=function(e){return w.a.post("/api/users/add",e)},D=function(e){return w.a.post("/api/users/update",e)},N=(t(121),function(e){Object(r.a)(t,e);var a=Object(i.a)(t);function t(){var e;Object(n.a)(this,t);for(var s=arguments.length,r=new Array(s),i=0;i<s;i++)r[i]=arguments[i];return(e=a.call.apply(a,[this].concat(r))).state={email:"",role:"",name:"",password:""},e.handleChange=function(a,t){a.persist(),e.setState({[a.target.name]:a.target.value})},e.handleFormSubmit=function(){if(e.state._id)D(Object(v.a)({},e.state)).then((function(){e.props.handleClose()}));else{var a={email:e.state.email,password:e.state.password,role:"SA",name:e.state.name};k(a).then((function(a){e.props.handleClose()}))}},e}return Object(s.a)(t,[{key:"componentWillMount",value:function(){var e,a=this;this.props.mid?(e=this.props.mid,w.a.get("/api/users/get?uid=".concat(e))).then((function(e){return a.setState(Object(v.a)(Object(v.a)({},e.data),{},{password:""}))})):this.setState({email:"",name:"",password:""})}},{key:"render",value:function(){var e=this,a=this.state,t=a.email,n=a.name,s=a.password,r=this.props,i=r.open,o=r.handleClose;return l.a.createElement(b.a,{onClose:o,open:i,maxWidth:"md",fullWidth:!0},l.a.createElement("div",{className:"p-24"},l.a.createElement("h4",{className:"mb-20"},"Update User"),l.a.createElement(E.ValidatorForm,{ref:"form",onSubmit:this.handleFormSubmit},l.a.createElement(C.a,{className:"mb-16",container:!0,spacing:4},l.a.createElement(C.a,{item:!0,sm:12,xs:12},l.a.createElement(E.TextValidator,{className:"w-100 mb-24",label:"Name",onChange:this.handleChange,type:"text",name:"name",value:n,validators:["required"],errorMessages:["this field is required"]})),l.a.createElement(C.a,{item:!0,sm:12,xs:12},l.a.createElement(E.TextValidator,{className:"mb-24 w-100",label:"Email",onChange:this.handleChange,type:"email",name:"email",value:t,validators:["required","isEmail"],errorMessages:["this field is required","email is not valid"]})),l.a.createElement(C.a,{item:!0,sm:12,xs:12},l.a.createElement(E.TextValidator,{className:"mb-16 w-100",label:"Password",onChange:this.handleChange,name:"password",type:"password",value:s,validators:["required"],errorMessages:["this field is required"]}))),l.a.createElement("div",{className:"flex flex-space-between flex-middle"},l.a.createElement(u.a,{variant:"contained",color:"primary",type:"submit"},"Save"),l.a.createElement(u.a,{onClick:function(){return e.props.handleClose()}},"Cancel")))))}}]),t}(o.Component)),j=t(1336),M={filterType:"checkbox",customToolbarSelect:function(){},selectableRows:"none"},P=function(e){Object(r.a)(t,e);var a=Object(i.a)(t);function t(){var e;Object(n.a)(this,t);for(var s=arguments.length,r=new Array(s),i=0;i<s;i++)r[i]=arguments[i];return(e=a.call.apply(a,[this].concat(r))).state={userList:[],shouldOpenEditorDialog:!1,shouldOpenConfirmationDialog:!1,warningOpen:!1,warningMessage:""},e.setPage=function(a){e.setState({page:a})},e.setRowsPerPage=function(a){e.setState({rowsPerPage:a.target.value})},e.handleChangePage=function(a,t){e.setPage(t)},e.handleDialogClose=function(){e.setState({shouldOpenEditorDialog:!1,shouldOpenConfirmationDialog:!1}),e.updatePageData()},e.handleDeleteUser=function(a){e.setState({mid:a,shouldOpenConfirmationDialog:!0})},e.handleConfirmationResponse=function(){S(e.state.mid).then((function(a){e.handleDialogClose()})).catch((function(a){e.setState({warningMessage:a.response.data.message}),e.setState({warningOpen:!0}),e.handleDialogClose()}))},e.updatePageData=function(){y().then((function(a){var t=[];a.data.map((function(e){t.push({email:e.email,name:e.name,mid:e._id})})),e.setState({userList:t})}))},e.closeWarningMessage=function(){e.setState({warningOpen:!1})},e}return Object(s.a)(t,[{key:"componentDidMount",value:function(){this.updatePageData()}},{key:"render",value:function(){var e=this,a=this.state,t=a.userList,n=a.shouldOpenConfirmationDialog,s=a.shouldOpenEditorDialog,r=a.warningOpen,i=a.warningMessage,o=[{name:"email",label:"Email Address",options:{filter:!0,sort:!0}},{name:"name",label:"User Name",options:{filter:!0,sort:!0}},{name:"action",label:"Action",options:{filter:!1,sort:!1,empty:!0,customBodyRenderLite:function(a){return l.a.createElement(l.a.Fragment,null,l.a.createElement(c.a,{onClick:function(){return e.setState({mid:e.state.userList[a].mid,shouldOpenEditorDialog:!0})}},l.a.createElement(m.a,{color:"primary"},"edit")),l.a.createElement(c.a,{onClick:function(){return e.handleDeleteUser(e.state.userList[a].mid)}},l.a.createElement(m.a,{color:"error"},"delete")))}}}];return l.a.createElement("div",{className:"m-sm-30"},l.a.createElement("div",{className:"mb-sm-30"},l.a.createElement(g.a,{routeSegments:[{name:"Supplier Type"}]})),l.a.createElement(u.a,{className:"mb-16",variant:"contained",color:"primary",onClick:function(){return e.setState({shouldOpenEditorDialog:!0,mid:null})}},"Add New User"),l.a.createElement(d.a,{className:"w-100 overflow-auto",elevation:6},l.a.createElement(h.a,{className:"p-10",title:"User List",data:t,columns:o,options:M}),s&&l.a.createElement(N,{handleClose:this.handleDialogClose,open:s,mid:this.state.mid}),n&&l.a.createElement(g.b,{open:n,onConfirmDialogClose:this.handleDialogClose,onYesClick:this.handleConfirmationResponse,text:"Are you sure to delete?"})),l.a.createElement(f.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:r,autoHideDuration:6e3,onClose:this.closeWarningMessage},l.a.createElement(j.a,{onClose:this.closeWarningMessage,variant:"warning",message:i})))}}]),t}(o.Component);a.default=P}}]);
//# sourceMappingURL=26.2a10d550.chunk.js.map