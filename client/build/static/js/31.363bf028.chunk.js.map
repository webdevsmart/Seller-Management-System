{"version":3,"sources":["app/components/Snackbar/Snackbar.js","../node_modules/@material-ui/icons/CheckCircle.js","../node_modules/@material-ui/icons/Warning.js","../node_modules/@material-ui/icons/Error.js","../node_modules/@material-ui/icons/Info.js","app/views/oem_order/OEMOrderService.js","../../src/FileSaver.js","app/views/oem_order/ManageOEMOrder.jsx"],"names":["variantIcon","success","CheckCircleIcon","warning","WarningIcon","error","ErrorIcon","info","InfoIcon","useStyles1","makeStyles","theme","backgroundColor","green","palette","dark","primary","main","amber","icon","fontSize","iconVariant","opacity","marginRight","spacing","message","display","alignItems","MySnackbarContentWrapper","props","classes","className","onClose","variant","other","Icon","clsx","aria-describedby","id","action","key","aria-label","color","onClick","_interopRequireDefault","require","Object","defineProperty","exports","value","default","_react","_default","createElement","d","getAllOrders","axios","get","getOEMOrder","downloadPartsExcel","ids","post","responseType","console","status","MouseEvent","document","window","self","global","HTMLAnchorElement","b","name","location","setTimeout","f","navigator","autoBom","test","Blob","type","open","i","saveAs","module","ManageOEMOrder","state","orderList","warningOpen","warningMessage","selectedOrders","updatePageData","then","res","data","map","item","_id","ID","warehouse","warehouse_for_qty","short_name","country","user","submitted_user","date_time","moment","date","format","setState","closeWarningMessage","handleSelectionChange","rowsSelected","row","push","downloadPartsList","length","Date","blob","FileSaver","this","options","filterType","download","print","selectToolbarPlacement","responsive","onRowSelectionChange","currentRowsSelected","allRowsSelected","columns","label","filter","sort","empty","customBodyRenderLite","dataIndex","to","routeSegments","elevation","title","anchorOrigin","vertical","horizontal","autoHideDuration","Component"],"mappings":"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","file":"static/js/31.363bf028.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport clsx from \"clsx\";\r\nimport PropTypes from \"prop-types\";\r\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\r\nimport ErrorIcon from \"@material-ui/icons/Error\";\r\nimport InfoIcon from \"@material-ui/icons/Info\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\nimport WarningIcon from \"@material-ui/icons/Warning\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport {\r\n  IconButton,\r\n  Icon,\r\n} from \"@material-ui/core\";\r\nimport { amber, green } from \"@material-ui/core/colors\";\r\nimport Snackbar from \"@material-ui/core/Snackbar\";\r\nimport SnackbarContent from \"@material-ui/core/SnackbarContent\";\r\n\r\nconst variantIcon = {\r\n    success: CheckCircleIcon,\r\n    warning: WarningIcon,\r\n    error: ErrorIcon,\r\n    info: InfoIcon\r\n  };\r\n  \r\nconst useStyles1 = makeStyles(theme => ({\r\n    success: {\r\n        backgroundColor: green[600]\r\n    },\r\n    error: {\r\n        backgroundColor: theme.palette.error.dark\r\n    },\r\n    info: {\r\n        backgroundColor: theme.palette.primary.main\r\n    },\r\n    warning: {\r\n        backgroundColor: amber[700]\r\n    },\r\n    icon: {\r\n        fontSize: 20\r\n    },\r\n    iconVariant: {\r\n        opacity: 0.9,\r\n        marginRight: theme.spacing(1)\r\n    },\r\n    message: {\r\n        display: \"flex\",\r\n        alignItems: \"center\"\r\n    }\r\n}));\r\n\r\nexport default function MySnackbarContentWrapper(props) {\r\n    const classes = useStyles1();\r\n    const { className, message, onClose, variant, ...other } = props;\r\n    const Icon = variantIcon[variant];\r\n\r\n    return (\r\n    <SnackbarContent\r\n        className={clsx(classes[variant], className)}\r\n        aria-describedby=\"client-snackbar\"\r\n        message={\r\n            <span id=\"client-snackbar\" className={classes.message}>\r\n            <Icon className={clsx(classes.icon, classes.iconVariant)} />\r\n            {message}\r\n            </span>\r\n        }\r\n        action={[\r\n            <IconButton\r\n            key=\"close\"\r\n            aria-label=\"Close\"\r\n            color=\"inherit\"\r\n            onClick={onClose}\r\n            >\r\n            <CloseIcon className={classes.icon} />\r\n            </IconButton>\r\n        ]}\r\n        {...other}\r\n    />);\r\n}\r\n\r\nMySnackbarContentWrapper.propTypes = {\r\n    className: PropTypes.string,\r\n    message: PropTypes.node,\r\n    onClose: PropTypes.func,\r\n    variant: PropTypes.oneOf([\"success\", \"warning\", \"error\", \"info\"]).isRequired\r\n};\r\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\"\n}), 'CheckCircle');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z\"\n}), 'Warning');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z\"\n}), 'Error');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z\"\n}), 'Info');\n\nexports.default = _default;","import axios from \"axios\";\r\n\r\nexport const getAllOrders = () => {\r\n  return axios.get(\"/api/oem-order/list\");\r\n};\r\nexport const getOEMOrder = (id) => {\r\n  return axios.get(\"/api/oem-order/get?_id=\" + id);\r\n}\r\nexport const downloadPartsExcel = (ids) => {\r\n  return axios.post(\"/api/oem-order/download\", ids, {responseType: 'blob'});\r\n}","/*\n* FileSaver.js\n* A saveAs() FileSaver implementation.\n*\n* By Eli Grey, http://eligrey.com\n*\n* License : https://github.com/eligrey/FileSaver.js/blob/master/LICENSE.md (MIT)\n* source  : http://purl.eligrey.com/github/FileSaver.js\n*/\n\n// The one and only way of getting global scope in all environments\n// https://stackoverflow.com/q/3277182/1008999\nvar _global = typeof window === 'object' && window.window === window\n  ? window : typeof self === 'object' && self.self === self\n  ? self : typeof global === 'object' && global.global === global\n  ? global\n  : this\n\nfunction bom (blob, opts) {\n  if (typeof opts === 'undefined') opts = { autoBom: false }\n  else if (typeof opts !== 'object') {\n    console.warn('Deprecated: Expected third argument to be a object')\n    opts = { autoBom: !opts }\n  }\n\n  // prepend BOM for UTF-8 XML and text/* types (including HTML)\n  // note: your browser will automatically convert UTF-16 U+FEFF to EF BB BF\n  if (opts.autoBom && /^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(blob.type)) {\n    return new Blob([String.fromCharCode(0xFEFF), blob], { type: blob.type })\n  }\n  return blob\n}\n\nfunction download (url, name, opts) {\n  var xhr = new XMLHttpRequest()\n  xhr.open('GET', url)\n  xhr.responseType = 'blob'\n  xhr.onload = function () {\n    saveAs(xhr.response, name, opts)\n  }\n  xhr.onerror = function () {\n    console.error('could not download file')\n  }\n  xhr.send()\n}\n\nfunction corsEnabled (url) {\n  var xhr = new XMLHttpRequest()\n  // use sync to avoid popup blocker\n  xhr.open('HEAD', url, false)\n  try {\n    xhr.send()\n  } catch (e) {}\n  return xhr.status >= 200 && xhr.status <= 299\n}\n\n// `a.click()` doesn't work for all browsers (#465)\nfunction click (node) {\n  try {\n    node.dispatchEvent(new MouseEvent('click'))\n  } catch (e) {\n    var evt = document.createEvent('MouseEvents')\n    evt.initMouseEvent('click', true, true, window, 0, 0, 0, 80,\n                          20, false, false, false, false, 0, null)\n    node.dispatchEvent(evt)\n  }\n}\n\nvar saveAs = _global.saveAs || (\n  // probably in some web worker\n  (typeof window !== 'object' || window !== _global)\n    ? function saveAs () { /* noop */ }\n\n  // Use download attribute first if possible (#193 Lumia mobile)\n  : 'download' in HTMLAnchorElement.prototype\n  ? function saveAs (blob, name, opts) {\n    var URL = _global.URL || _global.webkitURL\n    var a = document.createElement('a')\n    name = name || blob.name || 'download'\n\n    a.download = name\n    a.rel = 'noopener' // tabnabbing\n\n    // TODO: detect chrome extensions & packaged apps\n    // a.target = '_blank'\n\n    if (typeof blob === 'string') {\n      // Support regular links\n      a.href = blob\n      if (a.origin !== location.origin) {\n        corsEnabled(a.href)\n          ? download(blob, name, opts)\n          : click(a, a.target = '_blank')\n      } else {\n        click(a)\n      }\n    } else {\n      // Support blobs\n      a.href = URL.createObjectURL(blob)\n      setTimeout(function () { URL.revokeObjectURL(a.href) }, 4E4) // 40s\n      setTimeout(function () { click(a) }, 0)\n    }\n  }\n\n  // Use msSaveOrOpenBlob as a second approach\n  : 'msSaveOrOpenBlob' in navigator\n  ? function saveAs (blob, name, opts) {\n    name = name || blob.name || 'download'\n\n    if (typeof blob === 'string') {\n      if (corsEnabled(blob)) {\n        download(blob, name, opts)\n      } else {\n        var a = document.createElement('a')\n        a.href = blob\n        a.target = '_blank'\n        setTimeout(function () { click(a) })\n      }\n    } else {\n      navigator.msSaveOrOpenBlob(bom(blob, opts), name)\n    }\n  }\n\n  // Fallback to using FileReader and a popup\n  : function saveAs (blob, name, opts, popup) {\n    // Open a popup immediately do go around popup blocker\n    // Mostly only available on user interaction and the fileReader is async so...\n    popup = popup || open('', '_blank')\n    if (popup) {\n      popup.document.title =\n      popup.document.body.innerText = 'downloading...'\n    }\n\n    if (typeof blob === 'string') return download(blob, name, opts)\n\n    var force = blob.type === 'application/octet-stream'\n    var isSafari = /constructor/i.test(_global.HTMLElement) || _global.safari\n    var isChromeIOS = /CriOS\\/[\\d]+/.test(navigator.userAgent)\n\n    if ((isChromeIOS || (force && isSafari)) && typeof FileReader === 'object') {\n      // Safari doesn't allow downloading of blob URLs\n      var reader = new FileReader()\n      reader.onloadend = function () {\n        var url = reader.result\n        url = isChromeIOS ? url : url.replace(/^data:[^;]*;/, 'data:attachment/file;')\n        if (popup) popup.location.href = url\n        else location = url\n        popup = null // reverse-tabnabbing #460\n      }\n      reader.readAsDataURL(blob)\n    } else {\n      var URL = _global.URL || _global.webkitURL\n      var url = URL.createObjectURL(blob)\n      if (popup) popup.location = url\n      else location.href = url\n      popup = null // reverse-tabnabbing #460\n      setTimeout(function () { URL.revokeObjectURL(url) }, 4E4) // 40s\n    }\n  }\n)\n\n_global.saveAs = saveAs.saveAs = saveAs\n\nif (typeof module !== 'undefined') {\n  module.exports = saveAs;\n}\n","import React, { Component } from \"react\";\r\nimport { IconButton, Icon, Button, Card } from \"@material-ui/core\";\r\nimport MUIDataTable from \"mui-datatables\";\r\nimport Snackbar from \"@material-ui/core/Snackbar\";\r\nimport { Breadcrumb, ConfirmationDialog } from \"egret\";\r\nimport MySnackbarContentWrapper from \"../../components/Snackbar/Snackbar\";\r\nimport { getAllOrders, downloadPartsExcel } from \"./OEMOrderService\";\r\nimport moment from \"moment\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Axios from \"axios\";\r\nimport FileSaver from 'file-saver';\r\n\r\nclass ManageOEMOrder extends Component {\r\n  state = {\r\n    orderList: [],\r\n    warningOpen: false,\r\n    warningMessage: \"\",\r\n    selectedOrders: [],\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.updatePageData();\r\n  }\r\n\r\n  updatePageData = () => {\r\n    getAllOrders().then((res) => {\r\n      let orderList = [];\r\n      orderList = res.data.map((item) => {\r\n        return {\r\n          _id: item._id,\r\n          ID: item.ID,\r\n          warehouse: `${item.warehouse_for_qty.ID} - ${item.warehouse_for_qty.short_name} - ${item.warehouse_for_qty.country} - ${item.warehouse_for_qty.type.name}`,\r\n          user: item.submitted_user.name,\r\n          date_time: moment(item.date).format(\"LLLL\"),\r\n        };\r\n      });\r\n      this.setState({orderList});\r\n    });\r\n  };\r\n\r\n  closeWarningMessage = () => {\r\n    this.setState({ warningOpen: false });\r\n  };\r\n\r\n  handleSelectionChange = (rowsSelected) => {\r\n    let selectedOrders = [];\r\n    rowsSelected.map((row) => {\r\n      selectedOrders.push(this.state.orderList[row]._id)\r\n    });\r\n    this.setState({selectedOrders});\r\n  }\r\n\r\n  downloadPartsList = () => {\r\n    if (this.state.selectedOrders.length == 0) {\r\n      this.setState({warningOpen: true, warningMessage: \"Please select orders!\"});\r\n      return;\r\n    }\r\n    downloadPartsExcel({ids: this.state.selectedOrders}).then((res) => {\r\n      const date = new Date();\r\n\r\n      const blob = new Blob([res.data], { type: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet' });\r\n      FileSaver.saveAs(blob, 'parts_list_' + moment(date).format(\"YYYY-MM-DD(H:m:s)\") + '.xlsx');\r\n    });\r\n  }\r\n\r\n  render() {\r\n    let { orderList, warningMessage, warningOpen } = this.state;\r\n\r\n    const options = {\r\n      filterType: 'checkbox',\r\n      download: false,\r\n      print: false,\r\n      selectToolbarPlacement: 'none',\r\n      responsive: 'stacked',\r\n      onRowSelectionChange: (currentRowsSelected, allRowsSelected, rowsSelected) => {\r\n        this.handleSelectionChange(rowsSelected);\r\n      },\r\n    };\r\n    \r\n    const columns = [\r\n      {\r\n        name: \"ID\",\r\n        label: \"ID\",\r\n        options: {\r\n          filter: false,\r\n          sort: true,\r\n        },\r\n      },\r\n      {\r\n        name: \"date_time\",\r\n        label: \"Date Time\",\r\n        options: {\r\n          filter: false,\r\n          sort: true,\r\n        },\r\n      },\r\n      {\r\n        name: \"user\",\r\n        label: \"User\",\r\n        options: {\r\n          filter: true,\r\n          sort: true,\r\n        },\r\n      },\r\n      {\r\n        name: \"warehouse\",\r\n        label: \"Warehouse\",\r\n        options: {\r\n          filter: true,\r\n          sort: true,\r\n        },\r\n      },\r\n      {\r\n        name: \"action\",\r\n        label: \"Action\",\r\n        options: {\r\n          filter: false,\r\n          sort: false,\r\n          empty: true,\r\n          customBodyRenderLite: (dataIndex) => {\r\n            return (\r\n              <>\r\n                <Link to={`/oem-order/view/${orderList[dataIndex]._id}`}>\r\n                  <IconButton>\r\n                    <Icon color=\"primary\">visibility</Icon>\r\n                  </IconButton>\r\n                </Link>\r\n              </>\r\n            );\r\n          },\r\n        },\r\n      },\r\n    ];\r\n\r\n    return (\r\n      <div className=\"m-sm-30\">\r\n        <div className=\"mb-sm-30\">\r\n          <Breadcrumb routeSegments={[{ name: \"Manage Reports\" }]} />\r\n        </div>\r\n        <Button className=\"mb-24\" variant=\"contained\" color=\"primary\" onClick={this.downloadPartsList}>\r\n          Download Parts List\r\n        </Button>\r\n        <Card className=\"w-100 overflow-auto\" elevation={6}>\r\n          <MUIDataTable\r\n            className=\"pl-24 pr-24\"\r\n            title={\"Report List\"}\r\n            data={orderList}\r\n            columns={columns}\r\n            options={options}\r\n          />\r\n        </Card>\r\n        <Snackbar\r\n          anchorOrigin={{\r\n            vertical: \"top\",\r\n            horizontal: \"right\",\r\n          }}\r\n          open={warningOpen}\r\n          autoHideDuration={6000}\r\n          onClose={this.closeWarningMessage}\r\n        >\r\n          <MySnackbarContentWrapper\r\n            onClose={this.closeWarningMessage}\r\n            variant=\"warning\"\r\n            message={warningMessage}\r\n          />\r\n        </Snackbar>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ManageOEMOrder;\r\n"],"sourceRoot":""}