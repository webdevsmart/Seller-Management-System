(this["webpackJsonpseller-management-system"]=this["webpackJsonpseller-management-system"]||[]).push([[19],{1336:function(e,t,a){"use strict";a.d(t,"a",(function(){return y}));var n=a(1334),r=a(0),s=a.n(r),l=a(7),o=a(1337),c=a.n(o),i=a(1339),u=a.n(i),d=a(1340),m=a.n(d),p=a(1343),f=a.n(p),g=a(1338),h=a.n(g),b=a(1302),v=a(581),P=a(254),E=a(1386),O=a(1271),S={success:c.a,warning:h.a,error:u.a,info:m.a},C=Object(b.a)((function(e){return{success:{backgroundColor:P.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.main},warning:{backgroundColor:E.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}}));function y(e){var t=C(),a=e.className,r=e.message,o=e.onClose,c=e.variant,i=Object(n.a)(e,["className","message","onClose","variant"]),u=S[c];return s.a.createElement(O.a,Object.assign({className:Object(l.default)(t[c],a),"aria-describedby":"client-snackbar",message:s.a.createElement("span",{id:"client-snackbar",className:t.message},s.a.createElement(u,{className:Object(l.default)(t.icon,t.iconVariant)}),r),action:[s.a.createElement(v.a,{key:"close","aria-label":"Close",color:"inherit",onClick:o},s.a.createElement(f.a,{className:t.icon}))]},i))}},1337:function(e,t,a){"use strict";var n=a(1332);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(0)),s=(0,n(a(1333)).default)(r.default.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckCircle");t.default=s},1338:function(e,t,a){"use strict";var n=a(1332);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(0)),s=(0,n(a(1333)).default)(r.default.createElement("path",{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"}),"Warning");t.default=s},1339:function(e,t,a){"use strict";var n=a(1332);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(0)),s=(0,n(a(1333)).default)(r.default.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"}),"Error");t.default=s},1340:function(e,t,a){"use strict";var n=a(1332);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(0)),s=(0,n(a(1333)).default)(r.default.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"}),"Info");t.default=s},1343:function(e,t,a){"use strict";var n=a(1332);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(0)),s=(0,n(a(1333)).default)(r.default.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");t.default=s},1353:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(0);function r(e){var t=n.useState(e),a=t[0],r=t[1],s=e||a;return n.useEffect((function(){null==a&&r("mui-".concat(Math.round(1e5*Math.random())))}),[a]),s}},1355:function(e,t,a){"use strict";a.d(t,"a",(function(){return C}));var n=a(8),r=a(1334),s=a(0),l=a.n(s),o=a(7),c=a(1342),i=a(1302),u=a(33),d=a(50),m=a(582),p=a(1594),f=a(551),g=a(259),h=a(1540),b=a(1437),v=a(1345),P=a.n(v),E=Object(i.a)((function(e){return{root:{flexGrow:1,height:250},input:{display:"flex",padding:0,height:"auto"},valueContainer:{display:"flex",flexWrap:"wrap",flex:1,alignItems:"center",overflow:"hidden"},chip:{margin:e.spacing(.5,.25)},chipFocused:{backgroundColor:Object(u.c)("light"===e.palette.type?e.palette.grey[300]:e.palette.grey[700],.08)},noOptionsMessage:{padding:e.spacing(1,2)},singleValue:{fontSize:16},placeholder:{position:"absolute",left:2,bottom:6,fontSize:16},paper:{position:"absolute",zIndex:1,marginTop:e.spacing(1),left:0,right:0},divider:{height:e.spacing(2)}}}));function O(e){var t=e.inputRef,a=Object(r.a)(e,["inputRef"]);return l.a.createElement("div",Object.assign({ref:t},a))}var S={Control:function(e){var t=e.children,a=e.innerProps,r=e.innerRef,s=e.selectProps,o=s.classes,c=s.TextFieldProps;return l.a.createElement(f.a,Object.assign({fullWidth:!0,InputProps:{inputComponent:O,inputProps:Object(n.a)({className:o.input,ref:r,children:t},a)}},c))},Menu:function(e){return l.a.createElement(g.a,Object.assign({square:!0,className:e.selectProps.classes.paper},e.innerProps),e.children)},MultiValue:function(e){return l.a.createElement(h.a,{tabIndex:-1,label:e.children,className:Object(o.default)(e.selectProps.classes.chip,{[e.selectProps.classes.chipFocused]:e.isFocused}),onDelete:e.removeProps.onClick,deleteIcon:l.a.createElement(P.a,e.removeProps)})},NoOptionsMessage:function(e){return l.a.createElement(m.a,Object.assign({color:"textSecondary",className:e.selectProps.classes.noOptionsMessage},e.innerProps),e.children)},Option:function(e){return l.a.createElement(b.a,Object.assign({ref:e.innerRef,selected:e.isFocused,component:"div",style:{fontWeight:e.isSelected?500:400}},e.innerProps),e.children)},Placeholder:function(e){return l.a.createElement(m.a,Object.assign({color:"textSecondary",className:e.selectProps.classes.placeholder},e.innerProps),e.children)},SingleValue:function(e){return l.a.createElement(m.a,Object.assign({className:e.selectProps.classes.singleValue},e.innerProps),e.children)},ValueContainer:function(e){return l.a.createElement("div",{className:e.selectProps.classes.valueContainer},e.children)}};function C(e){var t=e.handleChange,a=e.selectedValue,r=e.textFieldProps,s=e.isMulti,o=e.options,i=E(),u=Object(d.a)(),m={input:function(e){return Object(n.a)(Object(n.a)({},e),{},{color:u.palette.text.primary,"& input":{font:"inherit"}})}};return l.a.createElement(p.a,null,l.a.createElement(c.a,{classes:i,styles:m,inputId:"react-select-single",options:o,components:S,TextFieldProps:r,value:a,onChange:t,isMulti:s}))}},1359:function(e,t,a){"use strict";var n=a(0),r=a(103);t.a=Object(r.a)(n.createElement("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight")},1360:function(e,t,a){"use strict";var n=a(0),r=a(103);t.a=Object(r.a)(n.createElement("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft")},1377:function(e,t,a){"use strict";a.d(t,"c",(function(){return s})),a.d(t,"d",(function(){return l})),a.d(t,"b",(function(){return o})),a.d(t,"a",(function(){return c})),a.d(t,"g",(function(){return i})),a.d(t,"f",(function(){return u})),a.d(t,"e",(function(){return d}));var n=a(17),r=a.n(n),s=function(){return r.a.get("/api/sales-outlet/list")},l=function(e){return r.a.get("/api/sales-outlet/get?uid=".concat(e))},o=function(e){return r.a.post("/api/sales-outlet/delete?uid=".concat(e))},c=function(e){return r.a.post("/api/sales-outlet/add",e)},i=function(e){return r.a.post("/api/sales-outlet/update",e)},u=function(){return r.a.get("/api/sales-outlet/name-list")},d=function(e){return r.a.post("/api/sales-outlet/location-list-by-id",e)}},1386:function(e,t,a){"use strict";t.a={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",A100:"#ffe57f",A200:"#ffd740",A400:"#ffc400",A700:"#ffab00"}},1409:function(e,t,a){"use strict";var n=a(2),r=a(5),s=a(0),l=(a(4),a(7)),o=a(9),c=a(569),i=a(1437),u=a(585),d=a(1504),m=a(1513),p=a(582),f=a(1360),g=a(1359),h=a(50),b=a(581),v=s.createElement(g.a,null),P=s.createElement(f.a,null),E=s.createElement(f.a,null),O=s.createElement(g.a,null),S=s.forwardRef((function(e,t){var a=e.backIconButtonProps,l=e.count,o=e.nextIconButtonProps,c=e.onChangePage,i=e.page,u=e.rowsPerPage,d=Object(r.a)(e,["backIconButtonProps","count","nextIconButtonProps","onChangePage","page","rowsPerPage"]),m=Object(h.a)();return s.createElement("div",Object(n.a)({ref:t},d),s.createElement(b.a,Object(n.a)({onClick:function(e){c(e,i-1)},disabled:0===i,color:"inherit"},a),"rtl"===m.direction?v:P),s.createElement(b.a,Object(n.a)({onClick:function(e){c(e,i+1)},disabled:-1!==l&&i>=Math.ceil(l/u)-1,color:"inherit"},o),"rtl"===m.direction?E:O))})),C=a(1353),y=function(e){var t=e.from,a=e.to,n=e.count;return"".concat(t,"-").concat(a," of ").concat(-1!==n?n:"more than ".concat(a))},x=[10,25,50,100],N=s.forwardRef((function(e,t){var a,o=e.ActionsComponent,f=void 0===o?S:o,g=e.backIconButtonProps,h=e.backIconButtonText,b=void 0===h?"Previous page":h,v=e.classes,P=e.className,E=e.colSpan,O=e.component,N=void 0===O?d.a:O,w=e.count,j=e.labelDisplayedRows,I=void 0===j?y:j,L=e.labelRowsPerPage,k=void 0===L?"Rows per page:":L,M=e.nextIconButtonProps,R=e.nextIconButtonText,_=void 0===R?"Next page":R,z=e.onChangePage,B=e.onChangeRowsPerPage,T=e.page,A=e.rowsPerPage,F=e.rowsPerPageOptions,V=void 0===F?x:F,D=e.SelectProps,J=void 0===D?{}:D,K=Object(r.a)(e,["ActionsComponent","backIconButtonProps","backIconButtonText","classes","className","colSpan","component","count","labelDisplayedRows","labelRowsPerPage","nextIconButtonProps","nextIconButtonText","onChangePage","onChangeRowsPerPage","page","rowsPerPage","rowsPerPageOptions","SelectProps"]);N!==d.a&&"td"!==N||(a=E||1e3);var U=Object(C.a)(),W=Object(C.a)(),H=J.native?"option":i.a;return s.createElement(N,Object(n.a)({className:Object(l.default)(v.root,P),colSpan:a,ref:t},K),s.createElement(m.a,{className:v.toolbar},s.createElement("div",{className:v.spacer}),V.length>1&&s.createElement(p.a,{color:"inherit",variant:"body2",className:v.caption,id:W},k),V.length>1&&s.createElement(u.a,Object(n.a)({classes:{select:v.select,icon:v.selectIcon},input:s.createElement(c.a,{className:Object(l.default)(v.input,v.selectRoot)}),value:A,onChange:B,id:U,labelId:W},J),V.map((function(e){return s.createElement(H,{className:v.menuItem,key:e.value?e.value:e,value:e.value?e.value:e},e.label?e.label:e)}))),s.createElement(p.a,{color:"inherit",variant:"body2",className:v.caption},I({from:0===w?0:T*A+1,to:-1!==w?Math.min(w,(T+1)*A):(T+1)*A,count:-1===w?-1:w,page:T})),s.createElement(f,{className:v.actions,backIconButtonProps:Object(n.a)({title:b,"aria-label":b},g),count:w,nextIconButtonProps:Object(n.a)({title:_,"aria-label":_},M),onChangePage:z,page:T,rowsPerPage:A})))}));t.a=Object(o.a)((function(e){return{root:{color:e.palette.text.primary,fontSize:e.typography.pxToRem(14),overflow:"auto","&:last-child":{padding:0}},toolbar:{minHeight:52,paddingRight:2},spacer:{flex:"1 1 100%"},caption:{flexShrink:0},selectRoot:{marginRight:32,marginLeft:8},select:{paddingLeft:8,paddingRight:24,textAlign:"right",textAlignLast:"right"},selectIcon:{},input:{color:"inherit",fontSize:"inherit",flexShrink:0},menuItem:{},actions:{flexShrink:0,marginLeft:20}}}),{name:"MuiTablePagination"})(N)},1615:function(e,t,a){"use strict";a.r(t);var n=a(8),r=a(22),s=a(25),l=a(30),o=a(29),c=a(1334),i=a(0),u=a.n(i),d=a(1327),m=a(1326),p=a(1303),f=a(1322),g=a(1501),h=a(1512),b=a(1505),v=a(1504),P=a(1503),E=a(551),O=a(1409),S=a(1323),C=a(1407),y=a(1602),x=a(13),N=a(1378),w=a(1351),j=a(1336),I=a(1355),L=a(1377),k=a(17),M=a.n(k),R=function(e){return M.a.post("/api/sales-outlet-report/get",e)},_=function(e){return M.a.post("/api/sales-outlet-report/add",e)},z=a(266),B=a.n(z);function T(e){var t=e.inputRef,a=e.onChange,n=Object(c.a)(e,["inputRef","onChange"]);return u.a.createElement(w.a,Object.assign({},n,{getInputRef:t,onValueChange:function(e){a({target:{value:e.value}})},thousandSeparator:!0}))}var A=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(r.a)(this,a);for(var s=arguments.length,l=new Array(s),o=0;o<s;o++)l[o]=arguments[o];return(e=t.call.apply(t,[this].concat(l))).state={salesOutletList:[],locationList:[],selectedSalesOutlet:null,selectedLocation:null,date:null,reportList:[],showLoading:!1,submitLoading:!1,messageType:"warning",messageOpen:!1,messageContent:"",rowsPerPage:10,page:0,submittedInfo:null},e.closeMessage=function(){e.setState({messageOpen:!1})},e.validateSelection=function(){return null==e.state.selectedSalesOutlet||null==e.state.selectedLocation?(e.setState({messageOpen:!0,messageType:"warning",messageContent:"Please select sales outlet!"}),!1):null!=e.state.date||(e.setState({messageOpen:!0,messageType:"warning",messageContent:"Please select date!"}),!1)},e.showData=function(){if(0!=e.validateSelection()){e.setState({showLoading:!0});var t={date:e.state.date,salesOutlet:e.state.selectedLocation.value};R(t).then((function(t){e.setState({showLoading:!1});var a=[];0==t.data.is_exist?(e.setState({submittedInfo:null}),t.data.results.map((function(e){a.push({product_id:e._id,sku:e.sku,upc:e.upc,asin:e.asin,name:e.name,sold:0,returned:0,refunded:0})}))):(e.setState({submittedInfo:{userName:t.data.submitted_user,modifiedAt:t.data.modified_at}}),t.data.results.map((function(e){a.push({product_id:e.product_id,sku:e.sku,upc:e.upc,asin:e.asin,name:e.name,sold:e.sold,returned:e.returned,refunded:e.refunded})}))),e.setState({reportList:a})})).catch((function(t){e.setState({showLoading:!1,messageOpen:!0,messageType:"warning",messageContent:t.response.data.message})}))}},e.setPage=function(t){e.setState({page:t})},e.setRowsPerPage=function(t){e.setState({rowsPerPage:t.target.value})},e.handleChangePage=function(t,a){e.setPage(a)},e.handleInputChange=function(t,a,n){var r=e.state.reportList;r[n][a]=t.target.value,e.setState({reportList:r})},e.handleSelectSalesOutlet=function(t){e.setState({selectedSalesOutlet:t}),Object(L.e)({name:t.value}).then((function(t){var a=t.data.map((function(e){return Object(n.a)(Object(n.a)({},e),{},{value:e._id,label:e.location})}));e.setState({locationList:a})}))},e.handleSubmit=function(){var t=e.state.reportList;e.setState({submitLoading:!0});var a=[];t.map((function(e){a.push({product:e.product_id,sold:e.sold,returned:e.returned,refunded:e.refunded})}));var n={items:a,sales_outlet:e.state.selectedLocation.value,date:e.state.date,submitted_user:JSON.parse(localStorage.getItem("auth_user"))._id};_(n).then((function(t){e.setState({submittedInfo:{userName:JSON.parse(localStorage.getItem("auth_user")).name,modifiedAt:t.data.modified_at},submitLoading:!1,messageOpen:!0,messageType:"success",messageContent:"Submitted successfully!"})}))},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;Object(L.f)().then((function(t){var a=t.data.map((function(e){return{value:e._id,label:"Sales Outlet Report - "+e._id}}));e.setState({salesOutletList:a})}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.reportList,n=t.salesOutletList,r=t.selectedSalesOutlet,s=t.locationList,l=t.selectedLocation,o=t.date,c=t.showLoading,i=t.submitLoading,w=t.messageType,L=t.messageOpen,k=t.messageContent,M=t.rowsPerPage,R=t.page,_=t.submittedInfo;return u.a.createElement("div",{className:"m-sm-30"},u.a.createElement(x.j,{title:"Sales Outlet Report"},_&&u.a.createElement(d.a,{elevation:6,className:"welcome-card bg-light-primary p-sm-24 mb-24  flex flex-space-between"},u.a.createElement("div",{className:"pr-16"},u.a.createElement("p",{className:"m-0 text-black"},"Last Submitted"," ",u.a.createElement("span",{className:"text-error"},B()(_.modifiedAt).format("LLLL"))," ","by"," ",u.a.createElement("span",{className:"font-weight-500 text-primary"},_.userName)))),u.a.createElement(m.a,{container:!0,spacing:4,style:{marginBottom:"250px"}},u.a.createElement(m.a,{item:!0,sm:6,xs:12},u.a.createElement(I.a,{textFieldProps:{label:"Select Sales Outlet Name",InputLabelProps:{htmlFor:"react-select-single",shrink:!0},placeholder:""},options:n,handleChange:function(t){return e.handleSelectSalesOutlet(t)},selectedValue:r})),u.a.createElement(m.a,{item:!0,sm:6,xs:12},u.a.createElement(I.a,{textFieldProps:{label:"Select Location",InputLabelProps:{htmlFor:"react-select-single",shrink:!0},placeholder:""},options:s,handleChange:function(t){return e.setState({selectedLocation:t})},selectedValue:l})),u.a.createElement(m.a,{item:!0,sm:6,xs:12},u.a.createElement(C.a,{utils:N.a},u.a.createElement(y.a,{className:"mb-16 w-100",views:["year","month"],margin:"none",id:"mui-pickers-date",label:"Select Year/Month",inputVariant:"standard",type:"text",autoOk:!0,value:o,format:"yyyy-MMM",onChange:function(t){return e.setState({date:t})},KeyboardButtonProps:{"aria-label":"change date"}}))),u.a.createElement(m.a,{item:!0,sm:6,xs:12},u.a.createElement(p.a,{type:"submit",onClick:this.showData,disabled:c,className:"mb-16 mr-32",variant:"contained",color:"secondary"},"Show Data",c&&u.a.createElement(f.a,{className:"ml-10",size:24})),u.a.createElement(p.a,{className:"mb-16",variant:"contained",color:"primary",disabled:i,onClick:this.handleSubmit},i&&u.a.createElement(f.a,{className:"ml-10",size:24}),"Submit")),u.a.createElement(m.a,{item:!0,sm:12,xs:12},u.a.createElement("div",{className:"w-100 overflow-auto"},u.a.createElement(g.a,{style:{border:"1px solid rgba(224, 224, 224, 1)",whiteSpace:"pre"}},u.a.createElement(h.a,null,u.a.createElement(b.a,null,u.a.createElement(v.a,{align:"center",colSpan:4,className:"bg-light-green"},"Product"),u.a.createElement(v.a,{align:"center",colSpan:4,className:"bg-primary"})),u.a.createElement(b.a,null,u.a.createElement(v.a,{align:"center"},"SKU"),u.a.createElement(v.a,{align:"center"},"UPC"),u.a.createElement(v.a,{align:"center"},"ASIN"),u.a.createElement(v.a,{align:"center"},"Name"),u.a.createElement(v.a,{align:"center"},"SOLD"),u.a.createElement(v.a,{align:"center"},"RETURNED"),u.a.createElement(v.a,{align:"center"},"REFUNDED"),u.a.createElement(v.a,{align:"center"},"Total"))),u.a.createElement(P.a,null,a&&a.slice(R*M,R*M+M).map((function(t,a){return u.a.createElement(b.a,{key:a},u.a.createElement(v.a,{className:"px-10",align:"center"},t.sku),u.a.createElement(v.a,{className:"px-10",align:"center"},t.upc),u.a.createElement(v.a,{align:"center",className:"px-10"},t.asin),u.a.createElement(v.a,{className:"px-10",align:"center"},t.name),u.a.createElement(v.a,{className:"px-10",align:"center"},u.a.createElement(E.a,{onChange:function(t){return e.handleInputChange(t,"sold",a)},InputProps:{inputComponent:T},value:t.sold})),u.a.createElement(v.a,{className:"px-10",align:"center"},u.a.createElement(E.a,{name:"returned",onChange:function(t){return e.handleInputChange(t,"returned",a)},InputProps:{inputComponent:T},value:t.returned})),u.a.createElement(v.a,{className:"px-10",align:"center"},u.a.createElement(E.a,{name:"refunded",onChange:function(t){return e.handleInputChange(t,"refunded",a)},InputProps:{inputComponent:T},value:t.refunded})),u.a.createElement(v.a,{className:"px-10",align:"center"},u.a.createElement(E.a,{InputProps:{inputComponent:T},readOnly:!0,value:parseFloat(t.sold)+parseFloat(t.returned)+parseFloat(t.refunded)})))})))),u.a.createElement(O.a,{className:"px-16",rowsPerPageOptions:[5,10,25],component:"div",count:a.length,rowsPerPage:M,page:R,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onChangePage:this.handleChangePage,onChangeRowsPerPage:this.setRowsPerPage}))))),u.a.createElement(S.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:L,autoHideDuration:2e3,onClose:this.closeMessage},u.a.createElement(j.a,{onClose:this.closeMessage,variant:w,message:k})))}}]),a}(i.Component);t.default=A}}]);
//# sourceMappingURL=19.a0ff03d5.chunk.js.map