(this["webpackJsonpseller-management-system"]=this["webpackJsonpseller-management-system"]||[]).push([[26],{1336:function(e,a,t){"use strict";t.d(a,"a",(function(){return _}));var n=t(1334),l=t(0),r=t.n(l),s=t(7),o=t(1337),i=t.n(o),c=t(1339),m=t.n(c),u=t(1340),d=t.n(u),h=t(1343),p=t.n(h),g=t(1338),f=t.n(g),E=t(1302),v=t(581),C=t(254),b=t(1386),k=t(1271),y={success:i.a,warning:f.a,error:m.a,info:d.a},w=Object(E.a)((function(e){return{success:{backgroundColor:C.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.main},warning:{backgroundColor:b.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}}));function _(e){var a=w(),t=e.className,l=e.message,o=e.onClose,i=e.variant,c=Object(n.a)(e,["className","message","onClose","variant"]),m=y[i];return r.a.createElement(k.a,Object.assign({className:Object(s.default)(a[i],t),"aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar",className:a.message},r.a.createElement(m,{className:Object(s.default)(a.icon,a.iconVariant)}),l),action:[r.a.createElement(v.a,{key:"close","aria-label":"Close",color:"inherit",onClick:o},r.a.createElement(p.a,{className:a.icon}))]},c))}},1337:function(e,a,t){"use strict";var n=t(1332);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var l=n(t(0)),r=(0,n(t(1333)).default)(l.default.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckCircle");a.default=r},1338:function(e,a,t){"use strict";var n=t(1332);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var l=n(t(0)),r=(0,n(t(1333)).default)(l.default.createElement("path",{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"}),"Warning");a.default=r},1339:function(e,a,t){"use strict";var n=t(1332);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var l=n(t(0)),r=(0,n(t(1333)).default)(l.default.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"}),"Error");a.default=r},1340:function(e,a,t){"use strict";var n=t(1332);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var l=n(t(0)),r=(0,n(t(1333)).default)(l.default.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"}),"Info");a.default=r},1577:function(e,a,t){"use strict";var n=t(1332);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var l=n(t(0)),r=(0,n(t(1333)).default)(l.default.createElement("path",{d:"M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3zm-4.4 15.55l-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05z"}),"FavoriteBorder");a.default=r},1578:function(e,a,t){"use strict";var n=t(1332);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var l=n(t(0)),r=(0,n(t(1333)).default)(l.default.createElement("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"}),"Favorite");a.default=r},1609:function(e,a,t){"use strict";t.r(a);var n=t(22),l=t(25),r=t(30),s=t(29),o=t(0),i=t.n(o),c=t(581),m=t(1317),u=t(1303),d=t(1327),h=t(1349),p=t.n(h),g=t(1323),f=t(13),E=t(8),v=t(1324),C=t(1326),b=t(1438),k=t(1304),y=t(1582),w=t(67),_=t(17),O=t.n(_),S=function(){return O.a.get("/api/users/list")},M=function(e){return O.a.post("/api/users/delete?uid=".concat(e))},P=function(e){return O.a.post("/api/users/add",e)},D=function(e){return O.a.post("/api/users/update",e)},N=t(1305),j=t(1578),I=t.n(j),x=t(1577),z=t.n(x),A=(t(121),function(e){Object(r.a)(t,e);var a=Object(s.a)(t);function t(){var e;Object(n.a)(this,t);for(var l=arguments.length,r=new Array(l),s=0;s<l;s++)r[s]=arguments[s];return(e=a.call.apply(a,[this].concat(r))).state={email:"",role:"",name:"",password:"",role:"ADMIN",permissions:{product:!1,product_cost:!1,product_category:!1,supplier:!1,parts:!1,product_variation:!1,parts_um:!1,parts_type:!1,supplier_type:!1,freight:!1,storage:!1,fullfillment:!1,misc:!1,users:!1}},e.handleChange=function(a,t){a.persist(),e.setState({[a.target.name]:a.target.value})},e.handleFormSubmit=function(){var a=e.state._id;if(a){var t=e.state.permissions,n=[];for(var l in t)1==t[l]&&n.push(l);var r={_id:a,email:e.state.email,password:e.state.password,role:e.state.role,name:e.state.name};"ADMIN"!=e.state.role&&(r.permissions=n),D(r).then((function(){e.props.handleClose()}))}else{var s=e.state.permissions,o=[];for(var i in s)1==s[i]&&o.push(i);var c={email:e.state.email,password:e.state.password,role:e.state.role,name:e.state.name};"ADMIN"!=e.state.role&&(c.permissions=o),P(c).then((function(a){e.props.handleClose()}))}},e.handleCheckChange=function(a){var t=e.state.permissions;t[a.target.value]=a.target.checked,e.setState({permissions:t})},e}return Object(l.a)(t,[{key:"componentWillMount",value:function(){var e,a=this;this.props.mid?(e=this.props.mid,O.a.get("/api/users/get?uid=".concat(e))).then((function(e){var t=a.state.permissions;for(var n in t)e.data.permissions.includes(n)&&(t[n]=!0);var l={email:e.data.email,name:e.data.name,role:e.data.role,password:"",permissions:t,_id:e.data._id};a.setState(Object(E.a)({},l))})):this.setState({email:"",name:"",password:""})}},{key:"render",value:function(){var e=this,a=this.state,t=a.email,n=a.name,l=a.password,r=a.role,s=this.props,o=s.open,c=s.handleClose;return i.a.createElement(v.a,{onClose:c,open:o,maxWidth:"md",fullWidth:!0},i.a.createElement("div",{className:"p-24"},i.a.createElement("h4",{className:"mb-20"},"Update User"),i.a.createElement(w.ValidatorForm,{ref:"form",onSubmit:this.handleFormSubmit},i.a.createElement(C.a,{className:"mb-16",container:!0,spacing:4},i.a.createElement(C.a,{item:!0,sm:12,xs:12},i.a.createElement(b.a,{value:r,name:"role",onChange:this.handleChange,row:!0},i.a.createElement(k.a,{value:"ADMIN",control:i.a.createElement(y.a,{color:"secondary"}),label:"Admin",labelPlacement:"end"}),i.a.createElement(k.a,{value:"SA",control:i.a.createElement(y.a,{color:"secondary"}),label:"User",labelPlacement:"end"}))),"SA"===r&&i.a.createElement(C.a,{item:!0,sm:12,xs:12},i.a.createElement("h5",null,"Permissions:"),i.a.createElement(k.a,{control:i.a.createElement(N.a,{onChange:this.handleCheckChange,checked:this.state.permissions.product,icon:i.a.createElement(z.a,null),checkedIcon:i.a.createElement(I.a,null),value:"product"}),label:"Product"}),i.a.createElement(k.a,{control:i.a.createElement(N.a,{onChange:this.handleCheckChange,checked:this.state.permissions.product_cost,icon:i.a.createElement(z.a,null),checkedIcon:i.a.createElement(I.a,null),value:"product_cost"}),label:"Product Cost"}),i.a.createElement(k.a,{control:i.a.createElement(N.a,{onChange:this.handleCheckChange,checked:this.state.permissions.product_category,icon:i.a.createElement(z.a,null),checkedIcon:i.a.createElement(I.a,null),value:"product_category"}),label:"Product Category"}),i.a.createElement(k.a,{control:i.a.createElement(N.a,{onChange:this.handleCheckChange,checked:this.state.permissions.supplier,icon:i.a.createElement(z.a,null),checkedIcon:i.a.createElement(I.a,null),value:"supplier"}),label:"Supplier"}),i.a.createElement(k.a,{control:i.a.createElement(N.a,{onChange:this.handleCheckChange,checked:this.state.permissions.parts,icon:i.a.createElement(z.a,null),checkedIcon:i.a.createElement(I.a,null),value:"parts"}),label:"Parts"}),i.a.createElement(k.a,{control:i.a.createElement(N.a,{onChange:this.handleCheckChange,checked:this.state.permissions.product_variation,icon:i.a.createElement(z.a,null),checkedIcon:i.a.createElement(I.a,null),value:"product_variation"}),label:"Product Variation"}),i.a.createElement(k.a,{control:i.a.createElement(N.a,{onChange:this.handleCheckChange,checked:this.state.permissions.parts_um,icon:i.a.createElement(z.a,null),checkedIcon:i.a.createElement(I.a,null),value:"parts_um"}),label:"Parts UM"}),i.a.createElement(k.a,{control:i.a.createElement(N.a,{onChange:this.handleCheckChange,checked:this.state.permissions.parts_type,icon:i.a.createElement(z.a,null),checkedIcon:i.a.createElement(I.a,null),value:"parts_type"}),label:"Parts Type"}),i.a.createElement(k.a,{control:i.a.createElement(N.a,{onChange:this.handleCheckChange,checked:this.state.permissions.supplier_type,icon:i.a.createElement(z.a,null),checkedIcon:i.a.createElement(I.a,null),value:"supplier_type"}),label:"Supplier Type"}),i.a.createElement(k.a,{control:i.a.createElement(N.a,{onChange:this.handleCheckChange,checked:this.state.permissions.freight,icon:i.a.createElement(z.a,null),checkedIcon:i.a.createElement(I.a,null),value:"freight"}),label:"Freight"}),i.a.createElement(k.a,{control:i.a.createElement(N.a,{onChange:this.handleCheckChange,checked:this.state.permissions.storage,icon:i.a.createElement(z.a,null),checkedIcon:i.a.createElement(I.a,null),value:"storage"}),label:"Storage"}),i.a.createElement(k.a,{control:i.a.createElement(N.a,{onChange:this.handleCheckChange,checked:this.state.permissions.fullfillment,icon:i.a.createElement(z.a,null),checkedIcon:i.a.createElement(I.a,null),value:"fullfillment"}),label:"Fullfillment"}),i.a.createElement(k.a,{control:i.a.createElement(N.a,{onChange:this.handleCheckChange,checked:this.state.permissions.misc,icon:i.a.createElement(z.a,null),checkedIcon:i.a.createElement(I.a,null),value:"misc"}),label:"Misc"}),i.a.createElement(k.a,{control:i.a.createElement(N.a,{onChange:this.handleCheckChange,checked:this.state.permissions.users,icon:i.a.createElement(z.a,null),checkedIcon:i.a.createElement(I.a,null),value:"users"}),label:"Users"})),i.a.createElement(C.a,{item:!0,sm:12,xs:12},i.a.createElement(w.TextValidator,{className:"w-100 mb-24",label:"Name",onChange:this.handleChange,type:"text",name:"name",value:n,validators:["required"],errorMessages:["this field is required"]})),i.a.createElement(C.a,{item:!0,sm:12,xs:12},i.a.createElement(w.TextValidator,{className:"mb-24 w-100",label:"Email",onChange:this.handleChange,type:"email",name:"email",value:t,validators:["required","isEmail"],errorMessages:["this field is required","email is not valid"]})),i.a.createElement(C.a,{item:!0,sm:12,xs:12},i.a.createElement(w.TextValidator,{className:"mb-16 w-100",label:"Password",onChange:this.handleChange,name:"password",type:"password",value:l,validators:["required"],errorMessages:["this field is required"]}))),i.a.createElement("div",{className:"flex flex-space-between flex-middle"},i.a.createElement(u.a,{variant:"contained",color:"primary",type:"submit"},"Save"),i.a.createElement(u.a,{onClick:function(){return e.props.handleClose()}},"Cancel")))))}}]),t}(o.Component)),L=t(1336),U={filterType:"checkbox",customToolbarSelect:function(){},selectableRows:"none"},V=function(e){Object(r.a)(t,e);var a=Object(s.a)(t);function t(){var e;Object(n.a)(this,t);for(var l=arguments.length,r=new Array(l),s=0;s<l;s++)r[s]=arguments[s];return(e=a.call.apply(a,[this].concat(r))).state={userList:[],shouldOpenEditorDialog:!1,shouldOpenConfirmationDialog:!1,warningOpen:!1,warningMessage:""},e.setPage=function(a){e.setState({page:a})},e.setRowsPerPage=function(a){e.setState({rowsPerPage:a.target.value})},e.handleChangePage=function(a,t){e.setPage(t)},e.handleDialogClose=function(){e.setState({shouldOpenEditorDialog:!1,shouldOpenConfirmationDialog:!1}),e.updatePageData()},e.handleDeleteUser=function(a){e.setState({mid:a,shouldOpenConfirmationDialog:!0})},e.handleConfirmationResponse=function(){M(e.state.mid).then((function(a){e.handleDialogClose()})).catch((function(a){e.setState({warningMessage:a.response.data.message}),e.setState({warningOpen:!0}),e.handleDialogClose()}))},e.updatePageData=function(){S().then((function(a){var t=[];a.data.map((function(e){t.push({email:e.email,name:e.name,mid:e._id})})),e.setState({userList:t})}))},e.closeWarningMessage=function(){e.setState({warningOpen:!1})},e}return Object(l.a)(t,[{key:"componentDidMount",value:function(){this.updatePageData()}},{key:"render",value:function(){var e=this,a=this.state,t=a.userList,n=a.shouldOpenConfirmationDialog,l=a.shouldOpenEditorDialog,r=a.warningOpen,s=a.warningMessage,o=[{name:"email",label:"Email Address",options:{filter:!0,sort:!0}},{name:"name",label:"User Name",options:{filter:!0,sort:!0}},{name:"action",label:"Action",options:{filter:!1,sort:!1,empty:!0,customBodyRenderLite:function(a){return i.a.createElement(i.a.Fragment,null,i.a.createElement(c.a,{onClick:function(){return e.setState({mid:e.state.userList[a].mid,shouldOpenEditorDialog:!0})}},i.a.createElement(m.a,{color:"primary"},"edit")),i.a.createElement(c.a,{onClick:function(){return e.handleDeleteUser(e.state.userList[a].mid)}},i.a.createElement(m.a,{color:"error"},"delete")))}}}];return i.a.createElement("div",{className:"m-sm-30"},i.a.createElement("div",{className:"mb-sm-30"},i.a.createElement(f.a,{routeSegments:[{name:"Supplier Type"}]})),i.a.createElement(u.a,{className:"mb-16",variant:"contained",color:"primary",onClick:function(){return e.setState({shouldOpenEditorDialog:!0,mid:null})}},"Add New User"),i.a.createElement(d.a,{className:"w-100 overflow-auto",elevation:6},i.a.createElement(p.a,{className:"p-10",title:"User List",data:t,columns:o,options:U}),l&&i.a.createElement(A,{handleClose:this.handleDialogClose,open:l,mid:this.state.mid}),n&&i.a.createElement(f.b,{open:n,onConfirmDialogClose:this.handleDialogClose,onYesClick:this.handleConfirmationResponse,text:"Are you sure to delete?"})),i.a.createElement(g.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:r,autoHideDuration:6e3,onClose:this.closeWarningMessage},i.a.createElement(L.a,{onClose:this.closeWarningMessage,variant:"warning",message:s})))}}]),t}(o.Component);a.default=V}}]);
//# sourceMappingURL=26.f7b9d155.chunk.js.map