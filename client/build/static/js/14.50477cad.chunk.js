(this["webpackJsonpseller-management-system"]=this["webpackJsonpseller-management-system"]||[]).push([[14],{1336:function(e,t,a){"use strict";a.d(t,"a",(function(){return j}));var n=a(1334),r=a(0),s=a.n(r),i=a(7),o=a(1337),l=a.n(o),c=a(1339),u=a.n(c),p=a(1340),d=a.n(p),m=a(1346),f=a.n(m),h=a(1338),g=a.n(h),b=a(1302),v=a(581),y=a(254),C=a(1490),O=a(1271),E={success:l.a,warning:g.a,error:u.a,info:d.a},P=Object(b.a)((function(e){return{success:{backgroundColor:y.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.main},warning:{backgroundColor:C.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}}));function j(e){var t=P(),a=e.className,r=e.message,o=e.onClose,l=e.variant,c=Object(n.a)(e,["className","message","onClose","variant"]),u=E[l];return s.a.createElement(O.a,Object.assign({className:Object(i.default)(t[l],a),"aria-describedby":"client-snackbar",message:s.a.createElement("span",{id:"client-snackbar",className:t.message},s.a.createElement(u,{className:Object(i.default)(t.icon,t.iconVariant)}),r),action:[s.a.createElement(v.a,{key:"close","aria-label":"Close",color:"inherit",onClick:o},s.a.createElement(f.a,{className:t.icon}))]},c))}},1337:function(e,t,a){"use strict";var n=a(1332);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(0)),s=(0,n(a(1333)).default)(r.default.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckCircle");t.default=s},1338:function(e,t,a){"use strict";var n=a(1332);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(0)),s=(0,n(a(1333)).default)(r.default.createElement("path",{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"}),"Warning");t.default=s},1339:function(e,t,a){"use strict";var n=a(1332);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(0)),s=(0,n(a(1333)).default)(r.default.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"}),"Error");t.default=s},1340:function(e,t,a){"use strict";var n=a(1332);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(0)),s=(0,n(a(1333)).default)(r.default.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"}),"Info");t.default=s},1344:function(e,t,a){"use strict";a.d(t,"c",(function(){return s})),a.d(t,"d",(function(){return i})),a.d(t,"b",(function(){return o})),a.d(t,"a",(function(){return l})),a.d(t,"e",(function(){return c}));var n=a(15),r=a.n(n),s=function(){return r.a.get("/api/parts-um/list")},i=function(e){return r.a.get("/api/parts-um/get?_id=".concat(e))},o=function(e){return r.a.post("/api/parts-um/delete?_id=".concat(e))},l=function(e){return r.a.post("/api/parts-um/add",e)},c=function(e){return r.a.post("/api/parts-um/update",e)}},1351:function(e,t,a){"use strict";a.d(t,"c",(function(){return s})),a.d(t,"d",(function(){return i})),a.d(t,"b",(function(){return o})),a.d(t,"a",(function(){return l})),a.d(t,"e",(function(){return c})),a.d(t,"f",(function(){return u}));var n=a(15),r=a.n(n),s=function(){return r.a.get("/api/parts/list")},i=function(e){return r.a.get("/api/parts/get?_id=".concat(e))},o=function(e){return r.a.post("/api/parts/delete?_id=".concat(e))},l=function(e){return r.a.post("/api/parts/add",e)},c=function(e){return r.a.post("/api/parts/update",e)},u=function(e){return r.a.post("/api/parts/update-list",e)}},1357:function(e,t,a){"use strict";a.d(t,"c",(function(){return s})),a.d(t,"d",(function(){return i})),a.d(t,"b",(function(){return o})),a.d(t,"a",(function(){return l})),a.d(t,"e",(function(){return c}));var n=a(15),r=a.n(n),s=function(){return r.a.get("/api/parts-type/list")},i=function(e){return r.a.get("/api/parts-type/get?_id=".concat(e))},o=function(e){return r.a.post("/api/parts-type/delete?_id=".concat(e))},l=function(e){return r.a.post("/api/parts-type/add",e)},c=function(e){return r.a.post("/api/parts-type/update",e)}},1603:function(e,t,a){"use strict";a.r(t);var n=a(1334),r=a(22),s=a(25),i=a(30),o=a(29),l=a(0),c=a.n(l),u=a(1488),p=a(581),d=a(1317),m=a(1327),f=a(1303),h=a(356),g=a(1316),b=a(1343),v=a.n(b),y=a(1323),C=a(19),O=a(8),E=a(1324),P=a(1326),j=a(551),M=a(67),S=a(1351),D=a(1357),x=a(1344),k=a(7),_=a(1348),N=a(1302),U=a(33),w=a(51),I=a(582),T=a(1588),F=a(259),L=a(1532),z=a(1419),V=a(1350),R=a.n(V),q=Object(N.a)((function(e){return{root:{flexGrow:1,height:250},input:{display:"flex",padding:0,height:"auto"},valueContainer:{display:"flex",flexWrap:"wrap",flex:1,alignItems:"center",overflow:"hidden"},chip:{margin:e.spacing(.5,.25)},chipFocused:{backgroundColor:Object(U.c)("light"===e.palette.type?e.palette.grey[300]:e.palette.grey[700],.08)},noOptionsMessage:{padding:e.spacing(1,2)},singleValue:{fontSize:16},placeholder:{position:"absolute",left:2,bottom:6,fontSize:16},paper:{position:"absolute",zIndex:1,marginTop:e.spacing(1),left:0,right:0},divider:{height:e.spacing(2)}}}));function A(e){var t=e.inputRef,a=Object(n.a)(e,["inputRef"]);return c.a.createElement("div",Object.assign({ref:t},a))}var W={Control:function(e){var t=e.children,a=e.innerProps,n=e.innerRef,r=e.selectProps,s=r.classes,i=r.TextFieldProps;return c.a.createElement(j.a,Object.assign({fullWidth:!0,InputProps:{inputComponent:A,inputProps:Object(O.a)({className:s.input,ref:n,children:t},a)}},i))},Menu:function(e){return c.a.createElement(F.a,Object.assign({square:!0,className:e.selectProps.classes.paper},e.innerProps),e.children)},MultiValue:function(e){return c.a.createElement(L.a,{tabIndex:-1,label:e.children,className:Object(k.default)(e.selectProps.classes.chip,{[e.selectProps.classes.chipFocused]:e.isFocused}),onDelete:e.removeProps.onClick,deleteIcon:c.a.createElement(R.a,e.removeProps)})},NoOptionsMessage:function(e){return c.a.createElement(I.a,Object.assign({color:"textSecondary",className:e.selectProps.classes.noOptionsMessage},e.innerProps),e.children)},Option:function(e){return c.a.createElement(z.a,Object.assign({ref:e.innerRef,selected:e.isFocused,component:"div",style:{fontWeight:e.isSelected?500:400}},e.innerProps),e.children)},Placeholder:function(e){return c.a.createElement(I.a,Object.assign({color:"textSecondary",className:e.selectProps.classes.placeholder},e.innerProps),e.children)},SingleValue:function(e){return c.a.createElement(I.a,Object.assign({className:e.selectProps.classes.singleValue},e.innerProps),e.children)},ValueContainer:function(e){return c.a.createElement("div",{className:e.selectProps.classes.valueContainer},e.children)}};function B(e){var t=e.handleChange,a=e.selectedValue,n=e.textFieldProps,r=e.isMulti,s=e.options,i=q(),o=Object(w.a)(),l={input:function(e){return Object(O.a)(Object(O.a)({},e),{},{color:o.palette.text.primary,"& input":{font:"inherit"}})}};return c.a.createElement(T.a,null,c.a.createElement(_.a,{classes:i,styles:l,inputId:"react-select-single",options:s,components:W,TextFieldProps:n,value:a,onChange:t,isMulti:r}))}var H=a(121),J=a(1352);function G(e){var t=e.inputRef,a=e.onChange,r=Object(n.a)(e,["inputRef","onChange"]);return c.a.createElement(J.a,Object.assign({},r,{getInputRef:t,onValueChange:function(e){a({target:{value:e.value}})},thousandSeparator:!0,prefix:"$"}))}var Q=function(e){Object(i.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={_id:null,name:"",selectedType:null,selectedUM:null,costUSD:0,qty:0,partsTypeList:[],partsUMList:[]},e.handleChange=function(t,a){t.persist(),e.setState({[t.target.name]:t.target.value})},e.handleFormSubmit=function(){var t={_id:e.state._id,name:e.state.name,type:e.state.selectedType.value,costUSD:e.state.costUSD,UM:e.state.selectedUM.value,qty:e.state.qty};Object(S.e)(t).then((function(){e.props.handleClose()}))},e}return Object(s.a)(a,[{key:"componentWillMount",value:function(){var e=this;Object(D.c)().then((function(t){e.setState({partsTypeList:t.data.map((function(e){return{value:e._id,label:e.name}}))})})),Object(x.c)().then((function(t){e.setState({partsUMList:t.data.map((function(e){return{value:e._id,label:e.short_name}}))})})),Object(S.d)(this.props.mid).then((function(t){var a=t.data,n={_id:a._id,name:a.name,selectedUM:{value:a.UM._id,label:a.UM.short_name},selectedType:{value:a.type._id,label:a.type.name},qty:a.qty,costUSD:a.cost_usd};e.setState(Object(O.a)({},n),(function(){console.log(e.state)}))}))}},{key:"render",value:function(){var e=this,t=this.state,a=(t._id,t.name),n=t.selectedType,r=t.selectedUM,s=t.costUSD,i=t.qty,o=t.partsTypeList,l=t.partsUMList,u=this.props,p=u.open,d=u.handleClose;return c.a.createElement(E.a,{onClose:d,open:p,maxWidth:"md",fullWidth:!0},c.a.createElement("div",{className:"p-24"},c.a.createElement("h4",{className:"mb-20"},"Update Parts"),c.a.createElement(M.ValidatorForm,{ref:"form",onSubmit:this.handleFormSubmit},c.a.createElement(P.a,{className:"mb-48",container:!0,spacing:4},c.a.createElement(P.a,{item:!0,sm:12,xs:12},c.a.createElement(M.TextValidator,{className:"w-100 mb-16",label:"Name",onChange:this.handleChange,type:"text",name:"name",value:a,validators:["required"],errorMessages:["this field is required"]})),c.a.createElement(P.a,{item:!0,sm:3,xs:6},c.a.createElement(B,{textFieldProps:{label:"Parts Type",InputLabelProps:{htmlFor:"react-select-single",shrink:!0},placeholder:""},handleChange:function(t){return e.setState((function(e){return Object(O.a)(Object(O.a)({},e.parts),{},{selectedType:t})}))},selectedValue:n,options:o})),c.a.createElement(P.a,{item:!0,sm:3,xs:6},c.a.createElement(B,{textFieldProps:{label:"Parts UM",InputLabelProps:{htmlFor:"react-select-single",shrink:!0},placeholder:""},handleChange:function(t){return e.setState((function(e){return Object(O.a)(Object(O.a)({},e.parts),{},{selectedUM:t})}))},selectedValue:r,options:l})),c.a.createElement(P.a,{item:!0,sm:3,xs:6},c.a.createElement(j.a,{className:"w-100",label:"Cost USD",value:s,onChange:function(t){return e.setState((function(e){return{costUSD:t.target.value}}))},name:"costUSD",InputProps:{inputComponent:G},inputProps:{min:0,style:{textAlign:"center"}}})),c.a.createElement(P.a,{item:!0,sm:3,xs:6},c.a.createElement(M.TextValidator,{className:"w-100 mb-16",label:"Quantity",onChange:this.handleChange,type:"text",name:"qty",value:i,validators:["required"],errorMessages:["this field is required"],inputProps:{min:0,style:{textAlign:"center"}}}))),c.a.createElement("div",{className:"flex flex-space-between flex-middle"},c.a.createElement(f.a,{variant:"contained",color:"primary",type:"submit"},"Save"),c.a.createElement(f.a,{onClick:function(){return e.props.handleClose()}},"Cancel")))))}}]),a}(l.Component),Y=a(1336),K={width:"600px"},X={filterType:"checkbox",customToolbarSelect:function(){},selectableRows:"none"},Z=function(e){Object(i.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={rowsPerPage:10,page:0,partsList:[],shouldOpenEditorDialog:!1,shouldOpenConfirmationDialog:!1,filterID:!0,filterName:!0,warningOpen:!1,warningMessage:""},e.setPage=function(t){e.setState({page:t})},e.setRowsPerPage=function(t){e.setState({rowsPerPage:t.target.value})},e.handleChangePage=function(t,a){e.setPage(a)},e.handleDialogClose=function(){e.setState({shouldOpenEditorDialog:!1,shouldOpenConfirmationDialog:!1,mid:null}),e.updatePageData()},e.handleDeleteParts=function(t){e.setState({mid:t,shouldOpenConfirmationDialog:!0})},e.handleConfirmationResponse=function(){Object(S.b)(e.state.mid).then((function(t){e.handleDialogClose()})).catch((function(t){e.setState({warningMessage:t.response.data.message}),e.setState({warningOpen:!0}),e.handleDialogClose()}))},e.updatePageData=function(){Object(S.c)().then((function(t){var a=[];t.data.map((function(e){a.push({id:e.ID,name:e.name,mid:e._id,type:e.type.name,UM:e.UM.short_name,costUSD:e.cost_usd,supplierID:e.supplier_id.ID,supplierCountry:e.supplier_id.country,supplierName:e.supplier_id.name})})),e.setState({partsList:a})}))},e.handleChangeCheckbox=function(t){return function(a){e.setState({[t]:a.target.checked})}},e.makeid=function(e){for(var t="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=a.length,r=0;r<e;r++)t+=a.charAt(Math.floor(Math.random()*n));return t},e.handleAddFakeParts=function(){for(var t=[],a=["5f3a13ec2eef4c2b6d3fcf44","5f3a13f02eef4c2b6d3fcf45","5f3a13f42eef4c2b6d3fcf46"],n=["5f3a13ca2eef4c2b6d3fcf40","5f3a13d92eef4c2b6d3fcf42","5f3a13e42eef4c2b6d3fcf43","5f3a14152eef4c2b6d3fcf48"],r=0;r<100;r++)t.push({ID:"P"+Object(H.c)(),name:"Part - "+e.makeid(5),type:a[r%3],cost_usd:(90*Math.random()+10).toFixed(2),UM:n[r%4],qty:parseInt(90*Math.random()+10),supplier_id:"5f3bc4b3a1f1fe4452dc0016"});Object(S.a)(t).then((function(e){alert("2222")}))},e.getMuiTheme=function(){return Object(h.a)({overrides:{MUIDataTableBodyCell:{root:{}}}})},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.updatePageData()}},{key:"render",value:function(){var e=this,t=this.state,a=t.partsList,r=t.shouldOpenConfirmationDialog,s=t.shouldOpenEditorDialog,i=t.warningOpen,o=t.warningMessage,l=[{name:"id",label:"ID",options:{filter:!0,sort:!0}},{name:"name",label:"Name",options:{filter:!0,sort:!0,customHeadRender:function(e){var t=e.index,a=Object(n.a)(e,["index"]);return c.a.createElement(u.a,{key:t,style:K},a.label)}}},{name:"type",label:"Type",options:{filter:!0,sort:!0}},{name:"UM",label:"UM",options:{filter:!0,sort:!0}},{name:"costUSD",label:"Cost USD",options:{filter:!0,sort:!0}},{name:"supplierID",label:"Supplier ID",options:{filter:!0,sort:!0}},{name:"supplierCountry",label:"Supplier Country",options:{filter:!0,sort:!0}},{name:"supplierName",label:"Supplier Name",options:{filter:!0,sort:!0}},{name:"action",label:"Action",options:{filter:!1,sort:!1,empty:!0,customBodyRenderLite:function(t){return c.a.createElement(c.a.Fragment,null,c.a.createElement(p.a,{onClick:function(){return e.setState({mid:e.state.partsList[t].mid,shouldOpenEditorDialog:!0})}},c.a.createElement(d.a,{color:"primary"},"edit")),c.a.createElement(p.a,{onClick:function(){return e.handleDeleteParts(e.state.partsList[t].mid)}},c.a.createElement(d.a,{color:"error"},"delete")))}}}];return c.a.createElement("div",{className:"m-sm-30"},c.a.createElement("div",{className:"mb-sm-30"},c.a.createElement(C.a,{routeSegments:[{name:"Parts"}]})),c.a.createElement(m.a,{className:"w-100 overflow-auto",elevation:6},c.a.createElement(f.a,{onClick:this.handleAddFakeParts},"ADD Fake Parts"),c.a.createElement(g.a,{theme:this.getMuiTheme()},c.a.createElement(v.a,{className:"crud-table",title:"Parts List",data:a,columns:l,options:X})),s&&c.a.createElement(Q,{handleClose:this.handleDialogClose,open:s,mid:this.state.mid}),r&&c.a.createElement(C.b,{open:r,onConfirmDialogClose:this.handleDialogClose,onYesClick:this.handleConfirmationResponse,text:"Are you sure to delete?"})),c.a.createElement(y.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:i,autoHideDuration:6e3,onClose:this.closeWarningMessage},c.a.createElement(Y.a,{onClose:this.closeWarningMessage,variant:"warning",message:o})))}}]),a}(l.Component);t.default=Z}}]);
//# sourceMappingURL=14.50477cad.chunk.js.map