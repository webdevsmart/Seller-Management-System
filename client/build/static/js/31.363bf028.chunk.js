(this["webpackJsonpseller-management-system"]=this["webpackJsonpseller-management-system"]||[]).push([[31],{1335:function(e,t,a){"use strict";a.d(t,"a",(function(){return L}));var n=a(1334),o=a(0),r=a.n(o),s=a(7),i=a(1336),c=a.n(i),l=a(1338),u=a.n(l),d=a(1339),f=a.n(d),m=a(1346),p=a.n(m),v=a(1337),h=a.n(v),b=a(1303),g=a(581),w=a(254),y=a(1451),E=a(1271),O={success:c.a,warning:h.a,error:u.a,info:f.a},_=Object(b.a)((function(e){return{success:{backgroundColor:w.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.main},warning:{backgroundColor:y.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}}));function L(e){var t=_(),a=e.className,o=e.message,i=e.onClose,c=e.variant,l=Object(n.a)(e,["className","message","onClose","variant"]),u=O[c];return r.a.createElement(E.a,Object.assign({className:Object(s.default)(t[c],a),"aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar",className:t.message},r.a.createElement(u,{className:Object(s.default)(t.icon,t.iconVariant)}),o),action:[r.a.createElement(g.a,{key:"close","aria-label":"Close",color:"inherit",onClick:i},r.a.createElement(p.a,{className:t.icon}))]},l))}},1336:function(e,t,a){"use strict";var n=a(1332);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a(0)),r=(0,n(a(1333)).default)(o.default.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckCircle");t.default=r},1337:function(e,t,a){"use strict";var n=a(1332);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a(0)),r=(0,n(a(1333)).default)(o.default.createElement("path",{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"}),"Warning");t.default=r},1338:function(e,t,a){"use strict";var n=a(1332);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a(0)),r=(0,n(a(1333)).default)(o.default.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"}),"Error");t.default=r},1339:function(e,t,a){"use strict";var n=a(1332);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a(0)),r=(0,n(a(1333)).default)(o.default.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"}),"Info");t.default=r},1439:function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return s})),a.d(t,"a",(function(){return i}));var n=a(17),o=a.n(n),r=function(){return o.a.get("/api/oem-order/list")},s=function(e){return o.a.get("/api/oem-order/get?_id="+e)},i=function(e){return o.a.post("/api/oem-order/download",e,{responseType:"blob"})}},1593:function(e,t,a){(function(a){var n,o,r;o=[],void 0===(r="function"===typeof(n=function(){"use strict";function t(e,t,a){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){s(n.response,t,a)},n.onerror=function(){console.error("could not download file")},n.send()}function n(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function o(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(t){var a=document.createEvent("MouseEvents");a.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(a)}}var r="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof a&&a.global===a?a:void 0,s=r.saveAs||("object"!=typeof window||window!==r?function(){}:"download"in HTMLAnchorElement.prototype?function(e,a,s){var i=r.URL||r.webkitURL,c=document.createElement("a");a=a||e.name||"download",c.download=a,c.rel="noopener","string"==typeof e?(c.href=e,c.origin===location.origin?o(c):n(c.href)?t(e,a,s):o(c,c.target="_blank")):(c.href=i.createObjectURL(e),setTimeout((function(){i.revokeObjectURL(c.href)}),4e4),setTimeout((function(){o(c)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,a,r){if(a=a||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(function(e,t){return"undefined"==typeof t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}(e,r),a);else if(n(e))t(e,a,r);else{var s=document.createElement("a");s.href=e,s.target="_blank",setTimeout((function(){o(s)}))}}:function(e,a,n,o){if((o=o||open("","_blank"))&&(o.document.title=o.document.body.innerText="downloading..."),"string"==typeof e)return t(e,a,n);var s="application/octet-stream"===e.type,i=/constructor/i.test(r.HTMLElement)||r.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||s&&i)&&"object"==typeof FileReader){var l=new FileReader;l.onloadend=function(){var e=l.result;e=c?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),o?o.location.href=e:location=e,o=null},l.readAsDataURL(e)}else{var u=r.URL||r.webkitURL,d=u.createObjectURL(e);o?o.location=d:location.href=d,o=null,setTimeout((function(){u.revokeObjectURL(d)}),4e4)}});r.saveAs=s.saveAs=s,e.exports=s})?n.apply(t,o):n)||(e.exports=r)}).call(this,a(53))},1625:function(e,t,a){"use strict";a.r(t);var n=a(22),o=a(25),r=a(30),s=a(29),i=a(0),c=a.n(i),l=a(581),u=a(1317),d=a(1304),f=a(1327),m=a(1352),p=a.n(m),v=a(1323),h=a(11),b=a(1335),g=a(1439),w=a(266),y=a.n(w),E=a(57),O=(a(17),a(1593)),_=a.n(O),L=function(e){Object(r.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={orderList:[],warningOpen:!1,warningMessage:"",selectedOrders:[]},e.updatePageData=function(){Object(g.b)().then((function(t){var a;a=t.data.map((function(e){return{_id:e._id,ID:e.ID,warehouse:"".concat(e.warehouse_for_qty.ID," - ").concat(e.warehouse_for_qty.short_name," - ").concat(e.warehouse_for_qty.country," - ").concat(e.warehouse_for_qty.type.name),user:e.submitted_user.name,date_time:y()(e.date).format("LLLL")}})),e.setState({orderList:a})}))},e.closeWarningMessage=function(){e.setState({warningOpen:!1})},e.handleSelectionChange=function(t){var a=[];t.map((function(t){a.push(e.state.orderList[t]._id)})),e.setState({selectedOrders:a})},e.downloadPartsList=function(){0!=e.state.selectedOrders.length?Object(g.a)({ids:e.state.selectedOrders}).then((function(e){var t=new Date,a=new Blob([e.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});_.a.saveAs(a,"parts_list_"+y()(t).format("YYYY-MM-DD(H:m:s)")+".xlsx")})):e.setState({warningOpen:!0,warningMessage:"Please select orders!"})},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.updatePageData()}},{key:"render",value:function(){var e=this,t=this.state,a=t.orderList,n=t.warningMessage,o=t.warningOpen,r={filterType:"checkbox",download:!1,print:!1,selectToolbarPlacement:"none",responsive:"stacked",onRowSelectionChange:function(t,a,n){e.handleSelectionChange(n)}},s=[{name:"ID",label:"ID",options:{filter:!1,sort:!0}},{name:"date_time",label:"Date Time",options:{filter:!1,sort:!0}},{name:"user",label:"User",options:{filter:!0,sort:!0}},{name:"warehouse",label:"Warehouse",options:{filter:!0,sort:!0}},{name:"action",label:"Action",options:{filter:!1,sort:!1,empty:!0,customBodyRenderLite:function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement(E.a,{to:"/oem-order/view/".concat(a[e]._id)},c.a.createElement(l.a,null,c.a.createElement(u.a,{color:"primary"},"visibility"))))}}}];return c.a.createElement("div",{className:"m-sm-30"},c.a.createElement("div",{className:"mb-sm-30"},c.a.createElement(h.a,{routeSegments:[{name:"Manage Reports"}]})),c.a.createElement(d.a,{className:"mb-24",variant:"contained",color:"primary",onClick:this.downloadPartsList},"Download Parts List"),c.a.createElement(f.a,{className:"w-100 overflow-auto",elevation:6},c.a.createElement(p.a,{className:"pl-24 pr-24",title:"Report List",data:a,columns:s,options:r})),c.a.createElement(v.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:o,autoHideDuration:6e3,onClose:this.closeWarningMessage},c.a.createElement(b.a,{onClose:this.closeWarningMessage,variant:"warning",message:n})))}}]),a}(i.Component);t.default=L}}]);
//# sourceMappingURL=31.363bf028.chunk.js.map